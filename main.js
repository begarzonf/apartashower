var sw=Object.create;var mi=Object.defineProperty,aw=Object.defineProperties,cw=Object.getOwnPropertyDescriptor,lw=Object.getOwnPropertyDescriptors,uw=Object.getOwnPropertyNames,ph=Object.getOwnPropertySymbols,dw=Object.getPrototypeOf,mh=Object.prototype.hasOwnProperty,fw=Object.prototype.propertyIsEnumerable;var gh=(t,e,n)=>e in t?mi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b=(t,e)=>{for(var n in e||={})mh.call(e,n)&&gh(t,n,e[n]);if(ph)for(var n of ph(e))fw.call(e,n)&&gh(t,n,e[n]);return t},W=(t,e)=>aw(t,lw(e));var hw=(t,e)=>()=>(t&&(e=t(t=0)),e);var bn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),pw=(t,e)=>{for(var n in e)mi(t,n,{get:e[n],enumerable:!0})},vh=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of uw(e))!mh.call(t,i)&&i!==n&&mi(t,i,{get:()=>e[i],enumerable:!(r=cw(e,i))||r.enumerable});return t};var gw=(t,e,n)=>(n=t!=null?sw(dw(t)):{},vh(e||!t||!t.__esModule?mi(n,"default",{value:t,enumerable:!0}):n,t)),dr=t=>vh(mi({},"__esModule",{value:!0}),t);var h=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var Cn={};pw(Cn,{__addDisposableResource:()=>ep,__assign:()=>ws,__asyncDelegator:()=>Wh,__asyncGenerator:()=>Ds,__asyncValues:()=>Cs,__await:()=>vt,__awaiter:()=>w,__classPrivateFieldGet:()=>Jh,__classPrivateFieldIn:()=>Xh,__classPrivateFieldSet:()=>Qh,__createBinding:()=>Es,__decorate:()=>Ph,__disposeResources:()=>tp,__esDecorate:()=>Lh,__exportStar:()=>Hh,__extends:()=>kh,__generator:()=>Bh,__importDefault:()=>Yh,__importStar:()=>Zh,__makeTemplateObject:()=>Kh,__metadata:()=>Uh,__param:()=>Fh,__propKey:()=>Vh,__read:()=>Sl,__rest:()=>Nt,__rewriteRelativeImportExtension:()=>np,__runInitializers:()=>jh,__setFunctionName:()=>$h,__spread:()=>zh,__spreadArray:()=>qh,__spreadArrays:()=>Gh,__values:()=>bs,default:()=>xw});function kh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Nt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ph(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function Fh(t,e){return function(n,r){e(n,r,t)}}function Lh(t,e,n,r,i,o){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?r.static?t:t.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d,p=!1,f=n.length-1;f>=0;f--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(y||null))};var v=(0,n[f])(a==="accessor"?{get:u.get,set:u.set}:u[c],g);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=s(v.get))&&(u.get=d),(d=s(v.set))&&(u.set=d),(d=s(v.init))&&i.unshift(d)}else(d=s(v))&&(a==="field"?i.unshift(d):u[c]=d)}l&&Object.defineProperty(l,r.name,u),p=!0}function jh(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function Vh(t){return typeof t=="symbol"?t:"".concat(t)}function $h(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Uh(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function w(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Bh(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Hh(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Es(e,t,n)}function bs(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function zh(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sl(arguments[e]));return t}function Gh(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function qh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function vt(t){return this instanceof vt?(this.v=t,this):new vt(t)}function Ds(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(m){return new Promise(function(v,y){o.push([f,m,v,y])>1||c(f,m)})},g&&(i[f]=g(i[f])))}function c(f,g){try{l(r[f](g))}catch(m){p(o[0][3],m)}}function l(f){f.value instanceof vt?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Wh(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:vt(t[i](s)),done:!1}:o?o(s):s}:o}}function Cs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bs=="function"?bs(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}function Kh(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Zh(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Il(t),r=0;r<n.length;r++)n[r]!=="default"&&Es(e,t,n[r]);return Tw(e,t),e}function Yh(t){return t&&t.__esModule?t:{default:t}}function Jh(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Qh(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function Xh(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ep(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}function tp(t){function e(o){t.error=t.hasError?new Mw(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function np(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,s){return r?e?".jsx":".js":i&&(!o||!s)?n:i+o+"."+s.toLowerCase()+"js"}):t}var Cl,ws,Es,Tw,Il,Mw,xw,X=hw(()=>{"use strict";Cl=function(t,e){return Cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Cl(t,e)};ws=function(){return ws=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ws.apply(this,arguments)};Es=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};Tw=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Il=function(t){return Il=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Il(t)};Mw=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};xw={__extends:kh,__assign:ws,__rest:Nt,__decorate:Ph,__param:Fh,__esDecorate:Lh,__runInitializers:jh,__propKey:Vh,__setFunctionName:$h,__metadata:Uh,__awaiter:w,__generator:Bh,__createBinding:Es,__exportStar:Hh,__values:bs,__read:Sl,__spread:zh,__spreadArrays:Gh,__spreadArray:qh,__await:vt,__asyncGenerator:Ds,__asyncDelegator:Wh,__asyncValues:Cs,__makeTemplateObject:Kh,__importStar:Zh,__importDefault:Yh,__classPrivateFieldGet:Jh,__classPrivateFieldSet:Qh,__classPrivateFieldIn:Xh,__addDisposableResource:ep,__disposeResources:tp,__rewriteRelativeImportExtension:np}});var Af=bn(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});var Mf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xf.default=Mf});var Nf=bn(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});var RS=(X(),dr(Cn)),OS=RS.__importDefault(Af()),Rf=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,c,l;let u=null,d=null,p=null,f=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let U=yield o.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=U:d=JSON.parse(U))}let v=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let v=yield o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,g="OK")}catch{o.status===404&&v===""?(f=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new OS.default(u)}return{error:u,data:d,count:p,status:f,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,c,l,u,d;let p="",f=o?.cause;if(f){let g=(s=f?.message)!==null&&s!==void 0?s:"",m=(a=f?.code)!==null&&a!==void 0?a:"";p=`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,p+=`

Caused by: ${(l=f?.name)!==null&&l!==void 0?l:"Error"}: ${g}`,m&&(p+=` (${m})`),f?.stack&&(p+=`
${f.stack}`)}else p=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Of.default=Rf});var Ff=bn(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});var NS=(X(),dr(Cn)),kS=NS.__importDefault(Nf()),kf=class extends kS.default{select(e){let n=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Pf.default=kf});var Dc=bn(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});var PS=(X(),dr(Cn)),FS=PS.__importDefault(Ff()),LS=new RegExp("[,()]"),Lf=class extends FS.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}regexMatch(e,n){return this.url.searchParams.append(e,`match.${n}`),this}regexIMatch(e,n){return this.url.searchParams.append(e,`imatch.${n}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}isDistinct(e,n){return this.url.searchParams.append(e,`isdistinct.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&LS.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};jf.default=Lf});var Uf=bn($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});var jS=(X(),dr(Cn)),zo=jS.__importDefault(Dc()),Vf=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,n){let{head:r=!1,count:i}=n??{},o=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new zo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;let o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new zo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new zo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:n}={}){var r;let i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new zo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new zo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};$f.default=Vf});var Py=bn(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});var ky=(X(),dr(Cn)),VS=ky.__importDefault(Uf()),$S=ky.__importDefault(Dc()),Bf=class t{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let n=new URL(`${this.url}/${e}`);return new VS.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{c.searchParams.append(d,p)})):(a="POST",l=n);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new $S.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Hf.default=Bf});var By=bn(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;var ii=(X(),dr(Cn)),Fy=ii.__importDefault(Py());Oe.PostgrestClient=Fy.default;var Ly=ii.__importDefault(Uf());Oe.PostgrestQueryBuilder=Ly.default;var jy=ii.__importDefault(Dc());Oe.PostgrestFilterBuilder=jy.default;var Vy=ii.__importDefault(Ff());Oe.PostgrestTransformBuilder=Vy.default;var $y=ii.__importDefault(Nf());Oe.PostgrestBuilder=$y.default;var Uy=ii.__importDefault(Af());Oe.PostgrestError=Uy.default;Oe.default={PostgrestClient:Fy.default,PostgrestQueryBuilder:Ly.default,PostgrestFilterBuilder:jy.default,PostgrestTransformBuilder:Vy.default,PostgrestBuilder:$y.default,PostgrestError:Uy.default}});var sl;function al(){return sl}function Rt(t){let e=sl;return sl=t,e}var mw=Symbol("NotFound"),as=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function fr(t){return t===mw||t?.name==="\u0275NotFound"}function cl(t,e){return Object.is(t,e)}var se=null,cs=!1,ll=1;var Ot=Symbol("SIGNAL");function j(t){let e=se;return se=t,e}function ul(){return se}var hr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function us(t){if(cs)throw new Error("");if(se===null)return;se.consumerOnSignalRead(t);let e=se.nextProducerIndex++;if(hs(se),e<se.producerNode.length&&se.producerNode[e]!==t&&vi(se)){let n=se.producerNode[e];fs(n,se.producerIndexOfThis[e])}se.producerNode[e]!==t&&(se.producerNode[e]=t,se.producerIndexOfThis[e]=vi(se)?wh(t,se,e):0),se.producerLastReadVersion[e]=t.version}function yh(){ll++}function dl(t){if(!(vi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ll)){if(!t.producerMustRecompute(t)&&!_i(t)){ls(t);return}t.producerRecomputeValue(t),ls(t)}}function fl(t){if(t.liveConsumerNode===void 0)return;let e=cs;cs=!0;try{for(let n of t.liveConsumerNode)n.dirty||vw(n)}finally{cs=e}}function _h(){return se?.consumerAllowSignalWrites!==!1}function vw(t){t.dirty=!0,fl(t),t.consumerMarkedDirty?.(t)}function ls(t){t.dirty=!1,t.lastCleanEpoch=ll}function pr(t){return t&&(t.nextProducerIndex=0),j(t)}function yi(t,e){if(j(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vi(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)fs(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function _i(t){hs(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dl(n),r!==n.version))return!0}return!1}function ds(t){if(hs(t),vi(t))for(let e=0;e<t.producerNode.length;e++)fs(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function wh(t,e,n){if(bh(t),t.liveConsumerNode.length===0&&Eh(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=wh(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function fs(t,e){if(bh(t),t.liveConsumerNode.length===1&&Eh(t))for(let r=0;r<t.producerNode.length;r++)fs(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];hs(i),i.producerIndexOfThis[r]=e}}function vi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function hs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function bh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Eh(t){return t.producerNode!==void 0}function yw(){throw new Error}var Dh=yw;function _w(t){Dh(t)}function hl(t){Dh=t}var ww=null;function ps(t,e){_h()||_w(t),t.equal(t.value,e)||(t.value=e,bw(t))}var pl=W(b({},hr),{equal:cl,value:void 0,kind:"signal"});function bw(t){t.version++,yh(),fl(t),ww?.(t)}function N(t){return typeof t=="function"}function gr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var gs=gr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function wi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var re=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(N(r))try{r()}catch(o){e=o instanceof gs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ch(o)}catch(s){e=e??[],s instanceof gs?e=[...e,...s.errors]:e.push(s)}}if(e)throw new gs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ch(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&wi(n,e)}remove(e){let{_finalizers:n}=this;n&&wi(n,e),e instanceof t&&e._removeParent(this)}};re.EMPTY=(()=>{let t=new re;return t.closed=!0,t})();var gl=re.EMPTY;function ms(t){return t instanceof re||t&&"closed"in t&&N(t.remove)&&N(t.add)&&N(t.unsubscribe)}function Ch(t){N(t)?t():t.unsubscribe()}var st={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mr={setTimeout(t,e,...n){let{delegate:r}=mr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=mr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vs(t){mr.setTimeout(()=>{let{onUnhandledError:e}=st;if(e)e(t);else throw t})}function bi(){}var Ih=ml("C",void 0,void 0);function Sh(t){return ml("E",void 0,t)}function Th(t){return ml("N",t,void 0)}function ml(t,e,n){return{kind:t,value:e,error:n}}var En=null;function vr(t){if(st.useDeprecatedSynchronousErrorHandling){let e=!En;if(e&&(En={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=En;if(En=null,n)throw r}}else t()}function Mh(t){st.useDeprecatedSynchronousErrorHandling&&En&&(En.errorThrown=!0,En.error=t)}var Dn=class extends re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ms(e)&&e.add(this)):this.destination=Cw}static create(e,n,r){return new yr(e,n,r)}next(e){this.isStopped?yl(Th(e),this):this._next(e)}error(e){this.isStopped?yl(Sh(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yl(Ih,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ew=Function.prototype.bind;function vl(t,e){return Ew.call(t,e)}var _l=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ys(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ys(r)}else ys(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ys(n)}}},yr=class extends Dn{constructor(e,n,r){super();let i;if(N(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&st.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vl(e.next,o),error:e.error&&vl(e.error,o),complete:e.complete&&vl(e.complete,o)}):i=e}this.destination=new _l(i)}};function ys(t){st.useDeprecatedSynchronousErrorHandling?Mh(t):vs(t)}function Dw(t){throw t}function yl(t,e){let{onStoppedNotification:n}=st;n&&mr.setTimeout(()=>n(t,e))}var Cw={closed:!0,next:bi,error:Dw,complete:bi};var _r=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ve(t){return t}function wl(...t){return bl(t)}function bl(t){return t.length===0?Ve:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Sw(n)?n:new yr(n,r,i);return vr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=xh(r),new r((i,o)=>{let s=new yr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[_r](){return this}pipe(...n){return bl(n)(this)}toPromise(n){return n=xh(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function xh(t){var e;return(e=t??st.Promise)!==null&&e!==void 0?e:Promise}function Iw(t){return t&&N(t.next)&&N(t.error)&&N(t.complete)}function Sw(t){return t&&t instanceof Dn||Iw(t)&&ms(t)}function El(t){return N(t?.lift)}function B(t){return e=>{if(El(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(t,e,n,r,i){return new Dl(t,e,n,r,i)}var Dl=class extends Dn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wr(){return B((t,e)=>{let n=null;t._refCount++;let r=H(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var br=class extends z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,El(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new re;let n=this.getSubject();e.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=re.EMPTY)}return e}refCount(){return wr()(this)}};var Ah=gr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class t extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _s(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ah}next(n){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gl:(this.currentObservers=null,o.push(n),new re(()=>{this.currentObservers=null,wi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new z;return n.source=this,n}}return t.create=(e,n)=>new _s(e,n),t})(),_s=class extends me{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:gl}};var ae=class extends me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ne=new z(t=>t.complete());function Rh(t){return t&&N(t.schedule)}function Oh(t){return t[t.length-1]}function Nh(t){return N(Oh(t))?t.pop():void 0}function Yt(t){return Rh(Oh(t))?t.pop():void 0}X();var Is=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ss(t){return N(t?.then)}function Ts(t){return N(t[_r])}function Ms(t){return Symbol.asyncIterator&&N(t?.[Symbol.asyncIterator])}function xs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Aw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var As=Aw();function Rs(t){return N(t?.[As])}X();function Os(t){return Ds(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield vt(n.read());if(i)return yield vt(void 0);yield yield vt(r)}}finally{n.releaseLock()}})}function Ns(t){return N(t?.getReader)}function fe(t){if(t instanceof z)return t;if(t!=null){if(Ts(t))return Rw(t);if(Is(t))return Ow(t);if(Ss(t))return Nw(t);if(Ms(t))return rp(t);if(Rs(t))return kw(t);if(Ns(t))return Pw(t)}throw xs(t)}function Rw(t){return new z(e=>{let n=t[_r]();if(N(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ow(t){return new z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Nw(t){return new z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vs)})}function kw(t){return new z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function rp(t){return new z(e=>{Fw(t,e).catch(n=>e.error(n))})}function Pw(t){return rp(Os(t))}function Fw(t,e){var n,r,i,o;return w(this,void 0,void 0,function*(){try{for(n=Cs(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ke(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ks(t,e=0){return B((n,r)=>{n.subscribe(H(r,i=>ke(r,t,()=>r.next(i),e),()=>ke(r,t,()=>r.complete(),e),i=>ke(r,t,()=>r.error(i),e)))})}function Ps(t,e=0){return B((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ip(t,e){return fe(t).pipe(Ps(e),ks(e))}function op(t,e){return fe(t).pipe(Ps(e),ks(e))}function sp(t,e){return new z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function ap(t,e){return new z(n=>{let r;return ke(n,e,()=>{r=t[As](),ke(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}function Fs(t,e){if(!t)throw new Error("Iterable cannot be null");return new z(n=>{ke(n,e,()=>{let r=t[Symbol.asyncIterator]();ke(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cp(t,e){return Fs(Os(t),e)}function lp(t,e){if(t!=null){if(Ts(t))return ip(t,e);if(Is(t))return sp(t,e);if(Ss(t))return op(t,e);if(Ms(t))return Fs(t,e);if(Rs(t))return ap(t,e);if(Ns(t))return cp(t,e)}throw xs(t)}function ie(t,e){return e?lp(t,e):fe(t)}function R(...t){let e=Yt(t);return ie(t,e)}function Er(t,e){let n=N(t)?t:()=>t,r=i=>i.error(n());return new z(e?i=>e.schedule(r,0,i):r)}function Tl(t){return!!t&&(t instanceof z||N(t.lift)&&N(t.subscribe))}var kt=gr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function V(t,e){return B((n,r)=>{let i=0;n.subscribe(H(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Lw}=Array;function jw(t,e){return Lw(e)?t(...e):t(e)}function up(t){return V(e=>jw(t,e))}var{isArray:Vw}=Array,{getPrototypeOf:$w,prototype:Uw,keys:Bw}=Object;function dp(t){if(t.length===1){let e=t[0];if(Vw(e))return{args:e,keys:null};if(Hw(e)){let n=Bw(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Hw(t){return t&&typeof t=="object"&&$w(t)===Uw}function fp(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ls(...t){let e=Yt(t),n=Nh(t),{args:r,keys:i}=dp(t);if(r.length===0)return ie([],e);let o=new z(zw(r,e,i?s=>fp(i,s):Ve));return n?o.pipe(up(n)):o}function zw(t,e,n=Ve){return r=>{hp(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)hp(e,()=>{let l=ie(t[c],e),u=!1;l.subscribe(H(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hp(t,e,n){t?ke(n,t,e):e()}function pp(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&e.complete()},f=m=>l<r?g(m):c.push(m),g=m=>{o&&e.next(m),l++;let v=!1;fe(n(m,u++)).subscribe(H(e,y=>{i?.(y),o?f(y):e.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let y=c.shift();s?ke(e,s,()=>g(y)):g(y)}p()}catch(y){e.error(y)}}))};return t.subscribe(H(e,f,()=>{d=!0,p()})),()=>{a?.()}}function ce(t,e,n=1/0){return N(e)?ce((r,i)=>V((o,s)=>e(r,o,i,s))(fe(t(r,i))),n):(typeof e=="number"&&(n=e),B((r,i)=>pp(r,i,t,n)))}function gp(t=1/0){return ce(Ve,t)}function mp(){return gp(1)}function Dr(...t){return mp()(ie(t,Yt(t)))}function Ei(t){return new z(e=>{fe(t()).subscribe(e)})}function qe(t,e){return B((n,r)=>{let i=0;n.subscribe(H(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Jt(t){return B((e,n)=>{let r=null,i=!1,o;r=e.subscribe(H(n,void 0,void 0,s=>{o=fe(t(s,Jt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function vp(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(H(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Cr(t,e){return N(e)?ce(t,e,1):ce(t,1)}function Qt(t){return B((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Pt(t){return t<=0?()=>Ne:B((e,n)=>{let r=0;e.subscribe(H(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function js(t=Gw){return B((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Gw(){return new kt}function Di(t){return B((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ft(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qe((i,o)=>t(i,o,r)):Ve,Pt(1),n?Qt(e):js(()=>new kt))}function Ir(t){return t<=0?()=>Ne:B((e,n)=>{let r=[];e.subscribe(H(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ml(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qe((i,o)=>t(i,o,r)):Ve,Ir(1),n?Qt(e):js(()=>new kt))}function xl(t,e){return B(vp(t,e,arguments.length>=2,!0))}function Al(...t){let e=Yt(t);return B((n,r)=>{(e?Dr(t,n,e):Dr(t,n)).subscribe(r)})}function We(t,e){return B((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(H(r,c=>{i?.unsubscribe();let l=0,u=o++;fe(t(c,u)).subscribe(i=H(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Vs(t){return B((e,n)=>{fe(t).subscribe(H(n,()=>n.complete(),bi)),!n.closed&&e.subscribe(n)})}function he(t,e,n){let r=N(t)||e||n?{next:t,error:e,complete:n}:t;return r?B((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(H(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ve}function yp(t){let e=j(null);try{return t()}finally{j(e)}}var Gs="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",S=class extends Error{code;constructor(e,n){super(qs(e,n)),this.code=e}};function Kw(t){return`NG0${Math.abs(t)}`}function qs(t,e){return`${Kw(t)}${e?": "+e:""}`}function ee(t){for(let e in t)if(t[e]===ee)return e;throw Error("")}function Fe(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Fe).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Hl(t,e){return t?e?`${t} ${e}`:t:e||""}var Zw=ee({__forward_ref__:ee});function Ti(t){return t.__forward_ref__=Ti,t.toString=function(){return Fe(this())},t}function Pe(t){return zl(t)?t():t}function zl(t){return typeof t=="function"&&t.hasOwnProperty(Zw)&&t.__forward_ref__===Ti}function Dp(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mi(t){return Yw(t,Ws)}function Gl(t){return Mi(t)!==null}function Yw(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Jw(t){let e=t?.[Ws]??null;return e||null}function Ol(t){return t&&t.hasOwnProperty(Us)?t[Us]:null}var Ws=ee({\u0275prov:ee}),Us=ee({\u0275inj:ee}),A=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ql(t){return t&&!!t.\u0275providers}var Wl=ee({\u0275cmp:ee}),Kl=ee({\u0275dir:ee}),Zl=ee({\u0275pipe:ee}),Yl=ee({\u0275mod:ee}),Ii=ee({\u0275fac:ee}),xn=ee({__NG_ELEMENT_ID__:ee}),wp=ee({__NG_ENV_ID__:ee});function xi(t){return typeof t=="string"?t:t==null?"":String(t)}function Cp(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xi(t)}function Jl(t,e){throw new S(-200,t)}function Ks(t,e){throw new S(-201,!1)}var Nl;function Ip(){return Nl}function xe(t){let e=Nl;return Nl=t,e}function Ql(t,e,n){let r=Mi(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Ks(t,"Injector")}var Qw={},In=Qw,kl="__NG_DI_FLAG__",Pl=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Sn(n)||0;try{return this.injector.get(e,r&8?null:In,r)}catch(i){if(fr(i))return i;throw i}}},Bs="ngTempTokenPath",Xw="ngTokenPath",eb=/\n/gm,tb="\u0275",bp="__source";function nb(t,e=0){let n=al();if(n===void 0)throw new S(-203,!1);if(n===null)return Ql(t,void 0,e);{let r=rb(e),i=n.retrieve(t,r);if(fr(i)){if(r.optional)return null;throw i}return i}}function F(t,e=0){return(Ip()||nb)(Pe(t),e)}function _(t,e){return F(t,Sn(e))}function Sn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rb(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Fl(t){let e=[];for(let n=0;n<t.length;n++){let r=Pe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=ib(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function Xl(t,e){return t[kl]=e,t.prototype[kl]=e,t}function ib(t){return t[kl]}function ob(t,e,n,r){let i=t[Bs];throw e[bp]&&i.unshift(e[bp]),t.message=sb(`
`+t.message,i,n,r),t[Xw]=i,t[Bs]=null,t}function sb(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==tb?t.slice(2):t;let i=Fe(e);if(Array.isArray(e))i=e.map(Fe).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Fe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(eb,`
  `)}`}function Xt(t,e){let n=t.hasOwnProperty(Ii);return n?t[Ii]:null}function Zs(t,e){t.forEach(n=>Array.isArray(n)?Zs(n,e):e(n))}function eu(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ai(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Sp(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Tp(t,e,n){let r=Tr(t,e);return r>=0?t[r|1]=n:(r=~r,Sp(t,r,e,n)),r}function Ys(t,e){let n=Tr(t,e);if(n>=0)return t[n|1]}function Tr(t,e){return ab(t,e,1)}function ab(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var An={},Ke=[],tn=new A(""),tu=new A("",-1),nu=new A(""),Si=class{get(e,n=In){if(n===In)throw new as(`NullInjectorError: No provider for ${Fe(e)}!`);return n}};function ru(t){return t[Yl]||null}function nn(t){return t[Wl]||null}function iu(t){return t[Kl]||null}function Mp(t){return t[Zl]||null}function Ri(t){return{\u0275providers:t}}function xp(...t){return{\u0275providers:ou(!0,t),\u0275fromNgModule:!0}}function ou(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Zs(e,s=>{let a=s;Hs(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ap(i,o),n}function Ap(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];su(i,o=>{e(o,r)})}}function Hs(t,e,n,r){if(t=Pe(t),!t)return!1;let i=null,o=Ol(t),s=!o&&nn(t);if(!o&&!s){let c=t.ngModule;if(o=Ol(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Hs(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Zs(o.imports,u=>{Hs(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Ap(l,e)}if(!a){let l=Xt(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ke},i),e({provide:nu,useValue:i,multi:!0},i),e({provide:tn,useValue:()=>F(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;su(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function su(t,e){for(let n of t)ql(n)&&(n=n.\u0275providers),Array.isArray(n)?su(n,e):e(n)}var cb=ee({provide:String,useValue:ee});function Rp(t){return t!==null&&typeof t=="object"&&cb in t}function lb(t){return!!(t&&t.useExisting)}function ub(t){return!!(t&&t.useFactory)}function zs(t){return typeof t=="function"}var Oi=new A(""),$s={},Ep={},Rl;function Ni(){return Rl===void 0&&(Rl=new Si),Rl}var ve=class{},Tn=class extends ve{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,jl(e,s=>this.processProvider(s)),this.records.set(tu,Sr(void 0,this)),i.has("environment")&&this.records.set(ve,Sr(void 0,this));let o=this.records.get(Oi);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nu,Ke,{self:!0}))}retrieve(e,n){let r=Sn(n)||0;try{return this.get(e,In,r)}catch(i){if(fr(i))return i;throw i}}destroy(){Ci(this),this._destroyed=!0;let e=j(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),j(e)}}onDestroy(e){return Ci(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ci(this);let n=Rt(this),r=xe(void 0),i;try{return e()}finally{Rt(n),xe(r)}}get(e,n=In,r){if(Ci(this),e.hasOwnProperty(wp))return e[wp](this);let i=Sn(r),o,s=Rt(this),a=xe(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let u=gb(e)&&Mi(e);u&&this.injectableDefInScope(u)?l=Sr(Ll(e),$s):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=i&2?Ni():this.parent;return n=i&8&&n===In?null:n,c.get(e,n)}catch(c){if(fr(c)){if((c[Bs]=c[Bs]||[]).unshift(Fe(e)),s)throw c;return ob(c,e,"R3InjectorError",this.source)}else throw c}finally{xe(a),Rt(s)}}resolveInjectorInitializers(){let e=j(null),n=Rt(this),r=xe(void 0),i;try{let o=this.get(tn,Ke,{self:!0});for(let s of o)s()}finally{Rt(n),xe(r),j(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Fe(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Pe(e);let n=zs(e)?e:Pe(e&&e.provide),r=fb(e);if(!zs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Sr(void 0,$s,!0),i.factory=()=>Fl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=j(null);try{return n.value===Ep?Jl(Fe(e)):n.value===$s&&(n.value=Ep,n.value=n.factory()),typeof n.value=="object"&&n.value&&pb(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{j(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Pe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ll(t){let e=Mi(t),n=e!==null?e.factory:Xt(t);if(n!==null)return n;if(t instanceof A)throw new S(204,!1);if(t instanceof Function)return db(t);throw new S(204,!1)}function db(t){if(t.length>0)throw new S(204,!1);let n=Jw(t);return n!==null?()=>n.factory(t):()=>new t}function fb(t){if(Rp(t))return Sr(void 0,t.useValue);{let e=Op(t);return Sr(e,$s)}}function Op(t,e,n){let r;if(zs(t)){let i=Pe(t);return Xt(i)||Ll(i)}else if(Rp(t))r=()=>Pe(t.useValue);else if(ub(t))r=()=>t.useFactory(...Fl(t.deps||[]));else if(lb(t))r=()=>F(Pe(t.useExisting));else{let i=Pe(t&&(t.useClass||t.provide));if(hb(t))r=()=>new i(...Fl(t.deps));else return Xt(i)||Ll(i)}return r}function Ci(t){if(t.destroyed)throw new S(205,!1)}function Sr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hb(t){return!!t.deps}function pb(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function gb(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function jl(t,e){for(let n of t)Array.isArray(n)?jl(n,e):n&&ql(n)?jl(n.\u0275providers,e):e(n)}function $e(t,e){let n;t instanceof Tn?(Ci(t),n=t):n=new Pl(t);let r,i=Rt(n),o=xe(void 0);try{return e()}finally{Rt(i),xe(o)}}function Np(){return Ip()!==void 0||al()!=null}var ct=0,$=1,k=2,ye=3,Ze=4,Ye=5,ki=6,Mr=7,Ie=8,Rn=9,_t=10,_e=11,xr=12,au=13,On=14,Je=15,Nn=16,kn=17,Pn=18,Pi=19,cu=20,Lt=21,Js=22,Fi=23,Ue=24,Qs=25,Be=26,kp=1;var rn=7,Li=8,ji=9,Le=10;function Vt(t){return Array.isArray(t)&&typeof t[kp]=="object"}function lt(t){return Array.isArray(t)&&t[kp]===!0}function lu(t){return(t.flags&4)!==0}function on(t){return t.componentOffset>-1}function Xs(t){return(t.flags&1)===1}function Fn(t){return!!t.template}function Ar(t){return(t[k]&512)!==0}function Rr(t){return(t[k]&256)===256}var uu="svg",Pp="math";function Qe(t){for(;Array.isArray(t);)t=t[ct];return t}function du(t,e){return Qe(e[t])}function wt(t,e){return Qe(e[t.index])}function ea(t,e){return t.data[e]}function Fp(t,e){return t[e]}function fu(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ut(t,e){let n=e[t];return Vt(n)?n:n[ct]}function ta(t){return(t[k]&128)===128}function Lp(t){return lt(t[ye])}function Vi(t,e){return e==null?null:t[e]}function hu(t){t[kn]=0}function pu(t){t[k]&1024||(t[k]|=1024,ta(t)&&Ui(t))}function jp(t,e){for(;t>0;)e=e[On],t--;return e}function $i(t){return!!(t[k]&9216||t[Ue]?.dirty)}function na(t){t[_t].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),$i(t)&&Ui(t)}function Ui(t){t[_t].changeDetectionScheduler?.notify(0);let e=en(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!ta(e)));)e=en(e)}function gu(t,e){if(Rr(t))throw new S(911,!1);t[Lt]===null&&(t[Lt]=[]),t[Lt].push(e)}function Vp(t,e){if(t[Lt]===null)return;let n=t[Lt].indexOf(e);n!==-1&&t[Lt].splice(n,1)}function en(t){let e=t[ye];return lt(e)?e[ye]:e}function $p(t){return t[Mr]??=[]}function Up(t){return t.cleanup??=[]}var L={lFrame:ig(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Bi=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(Bi||{}),mb=0,Vl=!1;function Bp(){return L.lFrame.elementDepthCount}function Hp(){L.lFrame.elementDepthCount++}function zp(){L.lFrame.elementDepthCount--}function mu(){return L.bindingsEnabled}function Gp(){return L.skipHydrationRootTNode!==null}function qp(t){return L.skipHydrationRootTNode===t}function Wp(){L.skipHydrationRootTNode=null}function te(){return L.lFrame.lView}function bt(){return L.lFrame.tView}function Xe(t){return L.lFrame.contextLView=t,t[Ie]}function et(t){return L.lFrame.contextLView=null,t}function dt(){let t=vu();for(;t!==null&&t.type===64;)t=t.parent;return t}function vu(){return L.lFrame.currentTNode}function Kp(){let t=L.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Or(t,e){let n=L.lFrame;n.currentTNode=t,n.isParent=e}function yu(){return L.lFrame.isParent}function Zp(){L.lFrame.isParent=!1}function _u(t){Dp("Must never be called in production mode"),mb=t}function wu(){return Vl}function bu(t){let e=Vl;return Vl=t,e}function Yp(){let t=L.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Jp(t){return L.lFrame.bindingIndex=t}function ra(){return L.lFrame.bindingIndex++}function Qp(t){let e=L.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xp(){return L.lFrame.inI18n}function eg(t,e){let n=L.lFrame;n.bindingIndex=n.bindingRootIndex=t,ia(e)}function tg(){return L.lFrame.currentDirectiveIndex}function ia(t){L.lFrame.currentDirectiveIndex=t}function ng(t){let e=L.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Eu(t){L.lFrame.currentQueryIndex=t}function vb(t){let e=t[$];return e.type===2?e.declTNode:e.type===1?t[Ye]:null}function Du(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=vb(o),i===null||(o=o[On],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=L.lFrame=rg();return r.currentTNode=e,r.lView=t,!0}function oa(t){let e=rg(),n=t[$];L.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function rg(){let t=L.lFrame,e=t===null?null:t.child;return e===null?ig(t):e}function ig(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function og(){let t=L.lFrame;return L.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Cu=og;function sa(){let t=og();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sg(t){return(L.lFrame.contextLView=jp(t,L.lFrame.contextLView))[Ie]}function Ln(){return L.lFrame.selectedIndex}function sn(t){L.lFrame.selectedIndex=t}function ag(){let t=L.lFrame;return ea(t.tView,t.selectedIndex)}function Nr(){L.lFrame.currentNamespace=uu}function kr(){yb()}function yb(){L.lFrame.currentNamespace=null}function cg(){return L.lFrame.currentNamespace}var lg=!0;function aa(){return lg}function ca(t){lg=t}function $l(t,e=null,n=null,r){let i=Iu(t,e,n,r);return i.resolveInjectorInitializers(),i}function Iu(t,e=null,n=null,r,i=new Set){let o=[n||Ke,xp(t)];return r=r||(typeof t=="object"?void 0:Fe(t)),new Tn(o,e||Ni(),r||null,i)}var at=class t{static THROW_IF_NOT_FOUND=In;static NULL=new Si;static create(e,n){if(Array.isArray(e))return $l({name:""},n,e,"");{let r=e.name??"";return $l({name:r},e.parent,e.providers,r)}}static \u0275prov=x({token:t,providedIn:"any",factory:()=>F(tu)});static __NG_ELEMENT_ID__=-1},we=new A(""),Pr=(()=>{class t{static __NG_ELEMENT_ID__=_b;static __NG_ENV_ID__=n=>n}return t})(),Ul=class extends Pr{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return gu(n,e),()=>Vp(n,e)}};function _b(){return new Ul(te())}var yt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},He=new A("",{providedIn:"root",factory:()=>{let t=_(ve),e;return n=>{e??=t.get(yt),e.handleError(n)}}}),ug={provide:tn,useValue:()=>void _(yt),multi:!0};var Mn=class{},Hi=new A("",{providedIn:"root",factory:()=>!1});var Su=new A(""),Tu=new A("");var an=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ae(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new z(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=x({token:t,providedIn:"root",factory:()=>new t})}return t})();function zi(...t){}var Mu=(()=>{class t{static \u0275prov=x({token:t,providedIn:"root",factory:()=>new Bl})}return t})(),Bl=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function $r(t){return{toString:t}.toString()}var la="__parameters__";function xb(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ug(t,e,n){return $r(()=>{let r=xb(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(la)?c[la]:Object.defineProperty(c,la,{value:[]})[la];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Bg=Xl(Ug("Optional"),8);var Hg=Xl(Ug("SkipSelf"),4);function Ab(t){return typeof t=="function"}var pa=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zg(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ji=(()=>{let t=()=>Gg;return t.ngInherit=!0,t})();function Gg(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ob),Rb}function Rb(){let t=Wg(this),e=t?.current;if(e){let n=t.previous;if(n===An)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ob(t,e,n,r,i){let o=this.declaredInputs[r],s=Wg(t)||Nb(t,{previous:An,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new pa(l&&l.currentValue,n,c===An),zg(t,e,i,n)}var qg="__ngSimpleChanges__";function Wg(t){return t[qg]||null}function Nb(t,e){return t[qg]=e}var dg=[];var Z=function(t,e=null,n){for(let r=0;r<dg.length;r++){let i=dg[r];i(t,e,n)}};function kb(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Gg(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Kg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function da(t,e,n){Zg(t,e,3,n)}function fa(t,e,n,r){(t[k]&3)===n&&Zg(t,e,n,r)}function xu(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function Zg(t,e,n,r){let i=r!==void 0?t[kn]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[kn]+=65536),(a<o||o==-1)&&(Pb(t,n,e,c),t[kn]=(t[kn]&4294901760)+c+2),c++}function fg(t,e){Z(4,t,e);let n=j(null);try{e.call(t)}finally{j(n),Z(5,t,e)}}function Pb(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[k]>>14<t[kn]>>16&&(t[k]&3)===e&&(t[k]+=16384,fg(a,o)):fg(a,o)}var Lr=-1,Wi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function Fb(t){return(t.flags&8)!==0}function Lb(t){return(t.flags&16)!==0}function jb(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];$b(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Vb(t){return t===3||t===4||t===6}function $b(t){return t.charCodeAt(0)===64}function ed(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?hg(t,n,i,null,e[++r]):hg(t,n,i,null,null))}}return t}function hg(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Yg(t){return t!==Lr}function ga(t){return t&32767}function Ub(t){return t>>16}function ma(t,e){let n=Ub(t),r=e;for(;n>0;)r=r[On],n--;return r}var Fu=!0;function va(t){let e=Fu;return Fu=t,e}var Bb=256,Jg=Bb-1,Qg=5,Hb=0,Et={};function zb(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(xn)&&(r=n[xn]),r==null&&(r=n[xn]=Hb++);let i=r&Jg,o=1<<i;e.data[t+(i>>Qg)]|=o}function Xg(t,e){let n=em(t,e);if(n!==-1)return n;let r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,Au(r.data,t),Au(e,null),Au(r.blueprint,null));let i=td(t,e),o=t.injectorIndex;if(Yg(i)){let s=ga(i),a=ma(i,e),c=a[$].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Au(t,e){t.push(0,0,0,0,0,0,0,0,e)}function em(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function td(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=om(i),r===null)return Lr;if(n++,i=i[On],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Lr}function Gb(t,e,n){zb(t,e,n)}function tm(t,e,n){if(n&8||t!==void 0)return t;Ks(e,"NodeInjector")}function nm(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Rn],o=xe(void 0);try{return i?i.get(e,r,n&8):Ql(e,r,n&8)}finally{xe(o)}}return tm(r,e,n)}function rm(t,e,n,r=0,i){if(t!==null){if(e[k]&2048&&!(r&2)){let s=Yb(t,e,n,r,Et);if(s!==Et)return s}let o=im(t,e,n,r,Et);if(o!==Et)return o}return nm(e,n,r,i)}function im(t,e,n,r,i){let o=Kb(n);if(typeof o=="function"){if(!Du(e,t,r))return r&1?tm(i,n,r):nm(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ks(n);else return s}finally{Cu()}}else if(typeof o=="number"){let s=null,a=em(t,e),c=Lr,l=r&1?e[Je][Ye]:null;for((a===-1||r&4)&&(c=a===-1?td(t,e):e[a+8],c===Lr||!gg(r,!1)?a=-1:(s=e[$],a=ga(c),e=ma(c,e)));a!==-1;){let u=e[$];if(pg(o,a,u.data)){let d=qb(a,e,n,s,r,l);if(d!==Et)return d}c=e[a+8],c!==Lr&&gg(r,e[$].data[a+8]===l)&&pg(o,a,e)?(s=u,a=ga(c),e=ma(c,e)):a=-1}}return i}function qb(t,e,n,r,i,o){let s=e[$],a=s.data[t+8],c=r==null?on(a)&&Fu:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=Wb(a,s,n,c,l);return u!==null?Lu(e,s,u,a):Et}function Wb(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:l;for(let f=d;f<p;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=s[c];if(f&&Fn(f)&&f.type===n)return c}return null}function Lu(t,e,n,r){let i=t[n],o=e.data;if(i instanceof Wi){let s=i;s.resolving&&Jl(Cp(o[n]));let a=va(s.canSeeViewProviders);s.resolving=!0;let c=o[n].type||o[n],l,u=s.injectImpl?xe(s.injectImpl):null,d=Du(t,r,0);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&kb(n,o[n],e)}finally{u!==null&&xe(u),va(a),s.resolving=!1,Cu()}}return i}function Kb(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(xn)?t[xn]:void 0;return typeof e=="number"?e>=0?e&Jg:Zb:e}function pg(t,e,n){let r=1<<t;return!!(n[e+(t>>Qg)]&r)}function gg(t,e){return!(t&2)&&!(t&1&&e)}var jn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rm(this._tNode,this._lView,e,Sn(r),n)}};function Zb(){return new jn(dt(),te())}function Qi(t){return $r(()=>{let e=t.prototype.constructor,n=e[Ii]||ju(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ii]||ju(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ju(t){return zl(t)?()=>{let e=ju(Pe(t));return e&&e()}:Xt(t)}function Yb(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[k]&2048&&!Ar(s);){let a=im(o,s,n,r|2,Et);if(a!==Et)return a;let c=o.parent;if(!c){let l=s[cu];if(l){let u=l.get(n,Et,r);if(u!==Et)return u}c=om(s),s=s[On]}o=c}return i}function om(t){let e=t[$],n=e.type;return n===2?e.declTNode:n===1?t[Ye]:null}function Jb(){return Ma(dt(),te())}function Ma(t,e){return new xa(wt(t,e))}var xa=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Jb}return t})();function sm(t){return(t.flags&128)===128}var nd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nd||{}),am=new Map,Qb=0;function Xb(){return Qb++}function eE(t){am.set(t[Pi],t)}function Vu(t){am.delete(t[Pi])}var mg="__ngContext__";function Xi(t,e){Vt(e)?(t[mg]=e[Pi],eE(e)):t[mg]=e}function cm(t){return um(t[xr])}function lm(t){return um(t[Ze])}function um(t){for(;t!==null&&!lt(t);)t=t[Ze];return t}var $u;function rd(t){$u=t}function dm(){if($u!==void 0)return $u;if(typeof document<"u")return document;throw new S(210,!1)}var Aa=new A("",{providedIn:"root",factory:()=>tE}),tE="ng",Ra=new A(""),Ur=new A("",{providedIn:"platform",factory:()=>"unknown"});var Oa=new A("",{providedIn:"root",factory:()=>dm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nE="h",rE="b";var fm=!1,hm=new A("",{providedIn:"root",factory:()=>fm});var iE=(t,e,n,r)=>{};function oE(t,e,n,r){iE(t,e,n,r)}var sE=()=>null;function pm(t,e,n=!1){return sE(t,e,n)}function gm(t,e){let n=t.contentQueries;if(n!==null){let r=j(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Eu(o),a.contentQueries(2,e[s],s)}}}finally{j(r)}}}function Uu(t,e,n){Eu(0);let r=j(null);try{e(t,n)}finally{j(r)}}function mm(t,e,n){if(lu(e)){let r=j(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{j(r)}}}var $t=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($t||{});var ya=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gs})`}};function id(t){return t instanceof ya?t.changingThisBreaksApplicationSecurity:t}function vm(t,e){let n=ym(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Gs})`)}return n===e}function ym(t){return t instanceof ya&&t.getTypeName()||null}var aE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _m(t){return t=String(t),t.match(aE)?t:"unsafe:"+t}var od=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(od||{});function sd(t){let e=cE();return e?e.sanitize(od.URL,t)||"":vm(t,"URL")?id(t):_m(xi(t))}function cE(){let t=te();return t&&t[_t].sanitizer}function wm(t){return t instanceof Function?t():t}function lE(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var bm="ng-template";function uE(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lE(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ad(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ad(t){return t.type===4&&t.value!==bm}function dE(t,e,n){let r=t.type===4&&!n?bm:t.value;return e===r}function fE(t,e,n){let r=4,i=t.attrs,o=i!==null?gE(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!ft(r)&&!ft(c))return!1;if(s&&ft(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!dE(t,c,n)||c===""&&e.length===1){if(ft(r))return!1;s=!0}}else if(r&8){if(i===null||!uE(t,i,c,n)){if(ft(r))return!1;s=!0}}else{let l=e[++a],u=hE(c,i,ad(t),n);if(u===-1){if(ft(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(ft(r))return!1;s=!0}}}}return ft(r)||s}function ft(t){return(t&1)===0}function hE(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return mE(e,t)}function pE(t,e,n=!1){for(let r=0;r<e.length;r++)if(fE(t,e[r],n))return!0;return!1}function gE(t){for(let e=0;e<t.length;e++){let n=t[e];if(Vb(n))return e}return t.length}function mE(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function vg(t,e){return t?":not("+e.trim()+")":e}function vE(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ft(s)&&(e+=vg(o,i),i=""),r=s,o=o||!ft(r);n++}return i!==""&&(e+=vg(o,i)),e}function yE(t){return t.map(vE).join(",")}function _E(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!ft(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Ct={};function wE(t,e){return t.createText(e)}function bE(t,e,n){t.setValue(e,n)}function Em(t,e,n){return t.createElement(e,n)}function _a(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Dm(t,e,n){t.appendChild(e,n)}function yg(t,e,n,r,i){r!==null?_a(t,e,n,r,i):Dm(t,e,n)}function EE(t,e,n){t.removeChild(null,e,n)}function DE(t,e,n){t.setAttribute(e,"style",n)}function CE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Cm(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&jb(t,e,r),i!==null&&CE(t,e,i),o!==null&&DE(t,e,o)}function cd(t,e,n,r,i,o,s,a,c,l,u){let d=Be+r,p=d+i,f=IE(d,p),g=typeof l=="function"?l():l;return f[$]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function IE(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ct);return n}function SE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ld(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[ct]=i,d[k]=r|4|128|8|64|1024,(l!==null||t&&t[k]&2048)&&(d[k]|=2048),hu(d),d[ye]=d[On]=t,d[Ie]=n,d[_t]=s||t&&t[_t],d[_e]=a||t&&t[_e],d[Rn]=c||t&&t[Rn]||null,d[Ye]=o,d[Pi]=Xb(),d[ki]=u,d[cu]=l,d[Je]=e.type==2?t[Je]:d,d}function TE(t,e,n){let r=wt(e,t),i=SE(n),o=t[_t].rendererFactory,s=ud(t,ld(t,i,null,Im(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Im(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Sm(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ud(t,e){return t[xr]?t[au][Ze]=e:t[xr]=e,t[au]=e,e}function J(t=1){Tm(bt(),te(),Ln()+t,!1)}function Tm(t,e,n,r){if(!r)if((e[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&da(e,o,n)}else{let o=t.preOrderHooks;o!==null&&fa(e,o,0,n)}sn(n)}var Na=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Na||{});function Bu(t,e,n,r){let i=j(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Na.SignalBased)!==0&&(c=e[o][Ot]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):zg(e,c,o,r)}finally{j(i)}}function Mm(t,e,n,r,i){let o=Ln(),s=r&2;try{sn(-1),s&&e.length>Be&&Tm(t,e,Be,!1),Z(s?2:0,i,n),n(r,i)}finally{sn(o),Z(s?3:1,i,n)}}function dd(t,e,n){PE(t,e,n),(n.flags&64)===64&&FE(t,e,n)}function xm(t,e,n=wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function ME(t,e,n,r){let o=r.get(hm,fm)||n===$t.ShadowDom,s=t.selectRootElement(e,o);return xE(s),s}function xE(t){AE(t)}var AE=()=>null;function RE(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function OE(t,e,n,r,i,o){let s=e[$];if(fd(t,s,e,n,r)){on(t)&&kE(e,t.index);return}NE(t,e,n,r,i,o)}function NE(t,e,n,r,i,o){if(t.type&3){let s=wt(t,e);n=RE(n),r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function kE(t,e){let n=ut(e,t);n[k]&16||(n[k]|=64)}function PE(t,e,n){let r=n.directiveStart,i=n.directiveEnd;on(n)&&TE(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Xg(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Lu(e,t,s,n);if(Xi(c,e),o!==null&&jE(e,s-r,c,a,n,o),Fn(a)){let l=ut(n.index,e);l[Ie]=Lu(e,t,s,n)}}}function FE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=tg();try{sn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];ia(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&LE(c,l)}}finally{sn(-1),ia(s)}}function LE(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Am(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];pE(e,o.selectors,!1)&&(r??=[],Fn(o)?r.unshift(o):r.push(o))}return r}function jE(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Bu(r,n,c,l)}}function VE(t,e){let n=t[Rn];if(!n)return;n.get(He,null)?.(e)}function fd(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];Bu(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=e.data[c];Bu(u,l,r,i),a=!0}return a}function $E(t,e){let n=ut(e,t),r=n[$];UE(r,n);let i=n[ct];i!==null&&n[ki]===null&&(n[ki]=pm(i,n[Rn])),Z(18),hd(r,n,n[Ie]),Z(19,n[Ie])}function UE(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function hd(t,e,n){oa(e);try{let r=t.viewQuery;r!==null&&Uu(1,r,n);let i=t.template;i!==null&&Mm(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Pn]?.finishViewCreation(t),t.staticContentQueries&&gm(t,e),t.staticViewQueries&&Uu(2,t.viewQuery,n);let o=t.components;o!==null&&BE(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,sa()}}function BE(t,e){for(let n=0;n<e.length;n++)$E(t,e[n])}function HE(t,e,n,r){let i=j(null);try{let o=e.tView,a=t[k]&4096?4096:16,c=ld(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Nn]=l;let u=t[Pn];return u!==null&&(c[Pn]=u.createEmbeddedView(o)),hd(o,c,n),c}finally{j(i)}}function _g(t,e){return!e||e.firstChild===null||sm(t)}var wg=!1,zE=new A(""),GE;function pd(t,e){return GE(t,e)}var Dt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dt||{});function gd(t){return(t.flags&32)===32}function Fr(t,e,n,r,i){if(r!=null){let o,s=!1;lt(r)?o=r:Vt(r)&&(s=!0,r=r[ct]);let a=Qe(r);t===0&&n!==null?i==null?Dm(e,n,a):_a(e,n,a,i||null,!0):t===1&&n!==null?_a(e,n,a,i||null,!0):t===2?EE(e,a,s):t===3&&e.destroyNode(a),o!=null&&rD(e,t,o,n,i)}}function qE(t,e){Rm(t,e),e[ct]=null,e[Ye]=null}function WE(t,e,n,r,i,o){r[ct]=i,r[Ye]=e,ka(t,r,n,1,i,o)}function Rm(t,e){e[_t].changeDetectionScheduler?.notify(9),ka(t,e,e[_e],2,null,null)}function KE(t){let e=t[xr];if(!e)return Ru(t[$],t);for(;e;){let n=null;if(Vt(e))n=e[xr];else{let r=e[Le];r&&(n=r)}if(!n){for(;e&&!e[Ze]&&e!==t;)Vt(e)&&Ru(e[$],e),e=e[ye];e===null&&(e=t),Vt(e)&&Ru(e[$],e),n=e&&e[Ze]}e=n}}function md(t,e){let n=t[ji],r=n.indexOf(e);n.splice(r,1)}function Om(t,e){if(Rr(e))return;let n=e[_e];n.destroyNode&&ka(t,e,n,3,null,null),KE(e)}function Ru(t,e){if(Rr(e))return;let n=j(null);try{e[k]&=-129,e[k]|=256,e[Ue]&&ds(e[Ue]),YE(t,e),ZE(t,e),e[$].type===1&&e[_e].destroy();let r=e[Nn];if(r!==null&&lt(e[ye])){r!==e[ye]&&md(r,e);let i=e[Pn];i!==null&&i.detachView(t)}Vu(e)}finally{j(n)}}function ZE(t,e){let n=t.cleanup,r=e[Mr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Mr]=null);let i=e[Lt];if(i!==null){e[Lt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Fi];if(o!==null){e[Fi]=null;for(let s of o)s.destroy()}}function YE(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Wi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Z(4,a,c);try{c.call(a)}finally{Z(5,a,c)}}else{Z(4,i,o);try{o.call(i)}finally{Z(5,i,o)}}}}}function JE(t,e,n){return QE(t,e.parent,n)}function QE(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ct];if(on(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===$t.None||i===$t.Emulated)return null}return wt(r,n)}function XE(t,e,n){return tD(t,e,n)}function eD(t,e,n){return t.type&40?wt(t,n):null}var tD=eD,bg;function vd(t,e,n,r){let i=JE(t,r,e),o=e[_e],s=r.parent||e[Ye],a=XE(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)yg(o,i,n[c],a,!1);else yg(o,i,n,a,!1);bg!==void 0&&bg(o,r,e,n,i)}function Gi(t,e){if(e!==null){let n=e.type;if(n&3)return wt(e,t);if(n&4)return Hu(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Gi(t,r);{let i=t[e.index];return lt(i)?Hu(-1,i):Qe(i)}}else{if(n&128)return Gi(t,e.next);if(n&32)return pd(e,t)()||Qe(t[e.index]);{let r=Nm(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=en(t[Je]);return Gi(i,r)}else return Gi(t,e.next)}}}return null}function Nm(t,e){if(e!==null){let r=t[Je][Ye],i=e.projection;return r.projection[i]}return null}function Hu(t,e){let n=Le+t+1;if(n<e.length){let r=e[n],i=r[$].firstChild;if(i!==null)return Gi(r,i)}return e[rn]}function yd(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Xi(Qe(a),r),n.flags|=2),!gd(n))if(c&8)yd(t,e,n.child,r,i,o,!1),Fr(e,t,i,a,o);else if(c&32){let l=pd(n,r),u;for(;u=l();)Fr(e,t,i,u,o);Fr(e,t,i,a,o)}else c&16?nD(t,e,r,n,i,o):Fr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ka(t,e,n,r,i,o){yd(n,r,t.firstChild,e,i,o,!1)}function nD(t,e,n,r,i,o){let s=n[Je],c=s[Ye].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Fr(e,t,i,u,o)}else{let l=c,u=s[ye];sm(r)&&(l.flags|=128),yd(t,e,l,u,i,o,!0)}}function rD(t,e,n,r,i){let o=n[rn],s=Qe(n);o!==s&&Fr(e,t,r,o,i);for(let a=Le;a<n.length;a++){let c=n[a];ka(c[$],c,t,e,r,o)}}function iD(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Dt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Dt.Important),t.setStyle(n,r,i,o))}}function Ki(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Qe(o)),lt(o)&&km(o,r);let s=n.type;if(s&8)Ki(t,e,n.child,r);else if(s&32){let a=pd(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Nm(e,n);if(Array.isArray(a))r.push(...a);else{let c=en(e[Je]);Ki(c[$],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function km(t,e){for(let n=Le;n<t.length;n++){let r=t[n],i=r[$].firstChild;i!==null&&Ki(r[$],r,i,e)}t[rn]!==t[ct]&&e.push(t[rn])}function Pm(t){if(t[Qs]!==null){for(let e of t[Qs])e.impl.addSequence(e);t[Qs].length=0}}var Fm=[];function oD(t){return t[Ue]??sD(t)}function sD(t){let e=Fm.pop()??Object.create(cD);return e.lView=t,e}function aD(t){t.lView[Ue]!==t&&(t.lView=null,Fm.push(t))}var cD=W(b({},hr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ui(t.lView)},consumerOnSignalRead(){this.lView[Ue]=this}});function lD(t){let e=t[Ue]??Object.create(uD);return e.lView=t,e}var uD=W(b({},hr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=en(t.lView);for(;e&&!Lm(e[$]);)e=en(e);e&&pu(e)},consumerOnSignalRead(){this.lView[Ue]=this}});function Lm(t){return t.type!==2}function jm(t){if(t[Fi]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Fi])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[k]&8192)}}var dD=100;function _d(t,e=0){let r=t[_t].rendererFactory,i=!1;i||r.begin?.();try{fD(t,e)}finally{i||r.end?.()}}function fD(t,e){let n=wu();try{bu(!0),zu(t,e);let r=0;for(;$i(t);){if(r===dD)throw new S(103,!1);r++,zu(t,1)}}finally{bu(n)}}function Vm(t,e){_u(e?Bi.Exhaustive:Bi.OnlyDirtyViews);try{_d(t)}finally{_u(Bi.Off)}}function hD(t,e,n,r){if(Rr(e))return;let i=e[k],o=!1,s=!1;oa(e);let a=!0,c=null,l=null;o||(Lm(t)?(l=oD(e),c=pr(l)):ul()===null?(a=!1,l=lD(e),c=pr(l)):e[Ue]&&(ds(e[Ue]),e[Ue]=null));try{hu(e),Jp(t.bindingStartIndex),n!==null&&Mm(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&da(e,f,null)}else{let f=t.preOrderHooks;f!==null&&fa(e,f,0,null),xu(e,0)}if(s||pD(e),jm(e),$m(e,0),t.contentQueries!==null&&gm(t,e),!o)if(u){let f=t.contentCheckHooks;f!==null&&da(e,f)}else{let f=t.contentHooks;f!==null&&fa(e,f,1),xu(e,1)}mD(t,e);let d=t.components;d!==null&&Bm(e,d,0);let p=t.viewQuery;if(p!==null&&Uu(2,p,r),!o)if(u){let f=t.viewCheckHooks;f!==null&&da(e,f)}else{let f=t.viewHooks;f!==null&&fa(e,f,2),xu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Js]){for(let f of e[Js])f();e[Js]=null}o||(Pm(e),e[k]&=-73)}catch(u){throw o||Ui(e),u}finally{l!==null&&(yi(l,c),a&&aD(l)),sa()}}function $m(t,e){for(let n=cm(t);n!==null;n=lm(n))for(let r=Le;r<n.length;r++){let i=n[r];Um(i,e)}}function pD(t){for(let e=cm(t);e!==null;e=lm(e)){if(!(e[k]&2))continue;let n=e[ji];for(let r=0;r<n.length;r++){let i=n[r];pu(i)}}}function gD(t,e,n){Z(18);let r=ut(e,t);Um(r,n),Z(19,r[Ie])}function Um(t,e){ta(t)&&zu(t,e)}function zu(t,e){let r=t[$],i=t[k],o=t[Ue],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&_i(o)),s||=!1,o&&(o.dirty=!1),t[k]&=-9217,s)hD(r,t,r.template,t[Ie]);else if(i&8192){jm(t),$m(t,1);let a=r.components;a!==null&&Bm(t,a,1),Pm(t)}}function Bm(t,e,n){for(let r=0;r<e.length;r++)gD(t,e[r],n)}function mD(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)sn(~i);else{let o=i,s=n[++r],a=n[++r];eg(s,o);let c=e[o];Z(24,c),a(2,c),Z(25,c)}}}finally{sn(-1)}}function wd(t,e){let n=wu()?64:1088;for(t[_t].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let r=en(t);if(Ar(t)&&!r)return t;t=r}return null}function Hm(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function vD(t,e,n,r=!0){let i=e[$];if(yD(i,e,t,n),r){let s=Hu(n,t),a=e[_e],c=a.parentNode(t[rn]);c!==null&&WE(i,t[Ye],a,e,c,s)}let o=e[ki];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Gu(t,e){if(t.length<=Le)return;let n=Le+e,r=t[n];if(r){let i=r[Nn];i!==null&&i!==t&&md(i,r),e>0&&(t[n-1][Ze]=r[Ze]);let o=Ai(t,Le+e);qE(r[$],r);let s=o[Pn];s!==null&&s.detachView(o[$]),r[ye]=null,r[Ze]=null,r[k]&=-129}return r}function yD(t,e,n,r){let i=Le+r,o=n.length;r>0&&(n[i-1][Ze]=e),r<o-Le?(e[Ze]=n[i],eu(n,Le+r,e)):(n.push(e),e[Ze]=null),e[ye]=n;let s=e[Nn];s!==null&&n!==s&&zm(s,e);let a=e[Pn];a!==null&&a.insertView(t),na(e),e[k]|=128}function zm(t,e){let n=t[ji],r=e[ye];if(Vt(r))t[k]|=2;else{let i=r[ye][Je];e[Je]!==i&&(t[k]|=2)}n===null?t[ji]=[e]:n.push(e)}var cn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[$];return Ki(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ie]}set context(e){this._lView[Ie]=e}get destroyed(){return Rr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ye];if(lt(e)){let n=e[Li],r=n?n.indexOf(this):-1;r>-1&&(Gu(e,r),Ai(n,r))}this._attachedToViewContainer=!1}Om(this._lView[$],this._lView)}onDestroy(e){gu(this._lView,e)}markForCheck(){wd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){na(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,_d(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Rn].get(zE,wg)}catch{this.exhaustive=wg}}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ar(this._lView),n=this._lView[Nn];n!==null&&!e&&md(n,this._lView),Rm(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e;let n=Ar(this._lView),r=this._lView[Nn];r!==null&&!n&&zm(r,this._lView),na(this._lView)}};var eo=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=_D;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=HE(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new cn(o)}}return t})();function _D(){return wD(dt(),te())}function wD(t,e){return t.type&4?new eo(e,t,Ma(t,e)):null}function bd(t,e,n,r,i){let o=t.data[e];if(o===null)o=bD(t,e,n,r,i),Xp()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Kp();o.injectorIndex=s===null?-1:s.injectorIndex}return Or(o,!0),o}function bD(t,e,n,r,i){let o=vu(),s=yu(),a=s?o:o&&o.parent,c=t.data[e]=DD(t,a,n,e,r,i);return ED(t,c,o,s),c}function ED(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function DD(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Gp()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var cP=new RegExp(`^(\\d+)*(${rE}|${nE})*(.*)`);var CD=()=>null;function Eg(t,e){return CD(t,e)}var Gm=class{},Pa=class{},qu=class{resolveComponentFactory(e){throw new S(917,!1)}},to=class{static NULL=new qu},Vn=class{};var qm=(()=>{class t{static \u0275prov=x({token:t,providedIn:"root",factory:()=>null})}return t})();var ha={},Wu=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,ha,r);return i!==ha||n===ha?i:this.parentInjector.get(e,n,r)}};function Dg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Hl(i,a);else if(o==2){let c=a,l=e[++s];r=Hl(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function be(t,e=0){let n=te();if(n===null)return F(t,e);let r=dt();return rm(r,n,Pe(t),e)}function Wm(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}TD(t,e,n,a,o,c,l)}o!==null&&r!==null&&ID(n,r,o)}function ID(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new S(-301,!1);r.push(e[i],o)}}function SD(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function TD(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&Fn(f)&&(c=!0,SD(t,n,p)),Gb(Xg(n,e),t,f.type)}ND(n,t.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Sm(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(n.mergedAttrs=ed(n.mergedAttrs,f.hostAttrs),xD(t,n,e,d,f),OD(d,f,i),s!==null&&s.has(f)){let[m,v]=s.get(f);n.directiveToIndex.set(f.type,[d,m+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}MD(t,n,o)}function MD(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Cg(0,e,i,r),Cg(1,e,i,r),Sg(e,r,!1);else{let o=n.get(i);Ig(0,e,o,r),Ig(1,e,o,r),Sg(e,r,!0)}}}function Cg(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Km(e,o)}}function Ig(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Km(e,s)}}function Km(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Sg(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||ad(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function xD(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Xt(i.type,!0)),s=new Wi(o,Fn(i),be);t.blueprint[r]=s,n[r]=s,AD(t,e,r,Sm(t,n,i.hostVars,Ct),i)}function AD(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;RD(s)!=a&&s.push(a),s.push(n,r,o)}}function RD(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function OD(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fn(e)&&(n[""]=t)}}function ND(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zm(t,e,n,r,i,o,s,a){let c=e.consts,l=Vi(c,s),u=bd(e,t,2,r,l);return o&&Wm(e,n,u,Vi(c,a),i),u.mergedAttrs=ed(u.mergedAttrs,u.attrs),u.attrs!==null&&Dg(u,u.attrs,!1),u.mergedAttrs!==null&&Dg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Ym(t,e){Kg(t,e),lu(e)&&t.queries.elementEnd(e)}function Ed(t){return Qm(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Jm(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Qm(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function kD(t,e,n){return t[e]=n}function no(t,e,n){if(n===Ct)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ou(t,e,n){return function r(i){let o=on(t)?ut(t.index,e):e;wd(o,5);let s=e[Ie],a=Tg(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Tg(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Tg(t,e,n,r){let i=j(null);try{return Z(6,e,n),n(r)!==!1}catch(o){return VE(t,o),!1}finally{Z(7,e,n),j(i)}}function PD(t,e,n,r,i,o,s,a){let c=Xs(t),l=!1,u=null;if(!r&&c&&(u=FD(e,n,o,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=wt(t,n),p=r?r(d):d;oE(n,p,o,a);let f=i.listen(p,o,a),g=r?m=>r(Qe(m[t.index])):t.index;Xm(g,e,n,o,a,f,!1)}return l}function FD(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Mr],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Xm(t,e,n,r,i,o,s){let a=e.firstCreatePass?Up(e):null,c=$p(n),l=c.length;c.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function Mg(t,e,n,r,i,o){let s=e[n],a=e[$],l=a.data[n].outputs[r],d=s[l].subscribe(o);Xm(t.index,a,e,i,o,d,!0)}var Ku=Symbol("BINDING");var wa=class extends to{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=nn(e);return new jr(n,this.ngModule)}};function LD(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Na.SignalBased)!==0};return i&&(o.transform=i),o})}function jD(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function VD(t,e,n){let r=e instanceof ve?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Wu(n,r):n}function $D(t){let e=t.get(Vn,null);if(e===null)throw new S(407,!1);let n=t.get(qm,null),r=t.get(Mn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function UD(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Em(e,n,n==="svg"?uu:n==="math"?Pp:null)}var jr=class extends Pa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=LD(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=jD(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yE(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Z(22);let a=j(null);try{let c=this.componentDef,l=BD(r,c,s,o),u=VD(c,i||this.ngModule,e),d=$D(u),p=d.rendererFactory.createRenderer(null,c),f=r?ME(p,r,c.encapsulation,u):UD(c,p),g=s?.some(xg)||o?.some(y=>typeof y!="function"&&y.bindings.some(xg)),m=ld(null,l,null,512|Im(c),null,null,d,p,u,null,pm(f,u,!0));m[Be]=f,oa(m);let v=null;try{let y=Zm(Be,l,m,"#host",()=>l.directiveRegistry,!0,0);f&&(Cm(p,f,y),Xi(f,m)),dd(l,m,y),mm(l,y,m),Ym(l,y),n!==void 0&&zD(y,this.ngContentSelectors,n),v=ut(y.index,m),m[Ie]=v[Ie],hd(l,m,null)}catch(y){throw v!==null&&Vu(v),Vu(m),y}finally{Z(23),sa()}return new ba(this.componentType,m,!!g)}finally{j(a)}}};function BD(t,e,n,r){let i=t?["ng-version","20.0.0"]:_E(e.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Ku].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){a+=p[Ku].requiredVars;let f=u+1;p.create&&(p.targetIdx=f,(o??=[]).push(p)),p.update&&(p.targetIdx=f,(s??=[]).push(p))}}let c=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=iu(d);c.push(p)}return cd(0,null,HD(o,s),1,a,c,null,null,null,[i],null)}function HD(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function xg(t){let e=t[Ku].kind;return e==="input"||e==="twoWay"}var ba=class extends Gm{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ea(n[$],Be),this.location=Ma(this._tNode,n),this.instance=ut(this._tNode.index,n)[Ie],this.hostView=this.changeDetectorRef=new cn(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=fd(r,i[$],i,e,n);this.previousInputValues.set(e,n);let s=ut(r.index,i);wd(s,1)}get injector(){return new jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function zD(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Bn=(()=>{class t{static __NG_ELEMENT_ID__=GD}return t})();function GD(){let t=dt();return WD(t,te())}var qD=Bn,ev=class extends qD{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ma(this._hostTNode,this._hostLView)}get injector(){return new jn(this._hostTNode,this._hostLView)}get parentInjector(){let e=td(this._hostTNode,this._hostLView);if(Yg(e)){let n=ma(e,this._hostLView),r=ga(e),i=n[$].data[r+8];return new jn(i,n)}else return new jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ag(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Le}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Eg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,_g(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!Ab(e),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=c?e:new jr(nn(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let y=(c?d:this.parentInjector).get(ve,null);y&&(o=y)}let p=nn(u.componentType??{}),f=Eg(this._lContainer,p?.id??null),g=f?.firstChild??null,m=u.create(d,i,g,o,s,a);return this.insertImpl(m.hostView,l,_g(this._hostTNode,f)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Lp(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ye],l=new ev(c,c[Ye],c[ye]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return vD(s,i,o,r),e.attachToViewContainerRef(),eu(Nu(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ag(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Gu(this._lContainer,n);r&&(Ai(Nu(this._lContainer),n),Om(r[$],r))}detach(e){let n=this._adjustIndex(e,-1),r=Gu(this._lContainer,n);return r&&Ai(Nu(this._lContainer),n)!=null?new cn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ag(t){return t[Li]}function Nu(t){return t[Li]||(t[Li]=[])}function WD(t,e){let n,r=e[t.index];return lt(r)?n=r:(n=Hm(r,e,null,t),e[t.index]=n,ud(e,n)),ZD(n,e,t,r),new ev(n,t,e)}function KD(t,e){let n=t[_e],r=n.createComment(""),i=wt(e,t),o=n.parentNode(i);return _a(n,o,r,n.nextSibling(i),!1),r}var ZD=QD,YD=()=>!1;function JD(t,e,n){return YD(t,e,n)}function QD(t,e,n,r){if(t[rn])return;let i;n.type&8?i=Qe(r):i=KD(e,n),t[rn]=i}var Rg=new Set;function Fa(t){Rg.has(t)||(Rg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var $n=class{},La=class{};var Ea=class extends $n{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new wa(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=ru(e);this._bootstrapComponents=wm(o.bootstrap),this._r3Injector=Iu(e,n,[{provide:$n,useValue:this},{provide:to,useValue:this.componentFactoryResolver},...r],Fe(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Da=class extends La{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ea(this.moduleType,e,[])}};var Zi=class extends $n{injector;componentFactoryResolver=new wa(this);instance=null;constructor(e){super();let n=new Tn([...e.providers,{provide:$n,useValue:this},{provide:to,useValue:this.componentFactoryResolver}],e.parent||Ni(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ro(t,e,n=null){return new Zi({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var XD=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=ou(!1,n.type),i=r.length>0?ro([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=x({token:t,providedIn:"environment",factory:()=>new t(F(ve))})}return t})();function ht(t){return $r(()=>{let e=tv(t),n=W(b({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(XD).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$t.Emulated,styles:t.styles||Ke,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Fa("NgStandalone"),nv(n);let r=t.dependencies;return n.directiveDefs=Og(r,!1),n.pipeDefs=Og(r,!0),n.id=i0(n),n})}function e0(t){return nn(t)||iu(t)}function t0(t){return t!==null}function ln(t){return $r(()=>({type:t.type,bootstrap:t.bootstrap||Ke,declarations:t.declarations||Ke,imports:t.imports||Ke,exports:t.exports||Ke,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function n0(t,e){if(t==null)return An;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Na.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function r0(t){if(t==null)return An;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Hn(t){return $r(()=>{let e=tv(t);return nv(e),e})}function Dd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function tv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||An,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ke,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:n0(t.inputs,e),outputs:r0(t.outputs),debugInfo:null}}function nv(t){t.features?.forEach(e=>e(t))}function Og(t,e){if(!t)return null;let n=e?Mp:e0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(t0)}function i0(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function o0(t,e,n,r,i,o,s,a,c){let l=e.consts,u=bd(e,t,4,s||null,a||null);mu()&&Wm(e,n,u,Vi(l,c),Am),u.mergedAttrs=ed(u.mergedAttrs,u.attrs),Kg(e,u);let d=u.tView=cd(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function s0(t,e,n,r,i,o,s,a,c,l,u){let d=n+Be,p=e.firstCreatePass?o0(d,e,t,r,i,o,s,a,l):e.data[d];c&&(p.flags|=c),Or(p,!1);let f=a0(e,t,p,n);aa()&&vd(e,t,f,p),Xi(f,t);let g=Hm(f,t,f,p);return t[d]=g,ud(t,g),JD(g,p,t),Xs(p)&&dd(e,t,p),l!=null&&xm(t,p,u),p}function pt(t,e,n,r,i,o,s,a){let c=te(),l=bt(),u=Vi(l.consts,o);return s0(c,l,t,e,n,r,i,u,void 0,s,a),pt}var a0=c0;function c0(t,e,n,r){return ca(!0),e[_e].createComment("")}var Cd=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Cd||{}),io=new A(""),rv=!1,Zu=class extends me{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Np()&&(this.destroyRef=_(Pr,{optional:!0})??void 0,this.pendingTasks=_(an,{optional:!0})??void 0)}emit(e){let n=j(null);try{super.next(e)}finally{j(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof re&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Se=Zu;function iv(t){let e,n;function r(){t=zi;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Ng(t){return queueMicrotask(()=>t()),()=>{t=zi}}var Id="isAngularZone",Ca=Id+"_ID",l0=0,le=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Se(!1);onMicrotaskEmpty=new Se(!1);onStable=new Se(!1);onError=new Se(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=rv}=e;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,f0(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Id)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,u0,zi,zi);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},u0={};function Sd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function d0(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){iv(()=>{t.callbackScheduled=!1,Yu(t),t.isCheckStableRunning=!0,Sd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Yu(t)}function f0(t){let e=()=>{d0(t)},n=l0++;t._inner=t._inner.fork({name:"angular",properties:{[Id]:!0,[Ca]:n,[Ca+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(h0(c))return r.invokeTask(o,s,a,c);try{return kg(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Pg(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return kg(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!p0(c)&&e(),Pg(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Yu(t),Sd(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Yu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function kg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pg(t){t._nesting--,Sd(t)}var Ia=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Se;onMicrotaskEmpty=new Se;onStable=new Se;onError=new Se;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function h0(t){return ov(t,"__ignore_ng_zone__")}function p0(t){return ov(t,"__scheduler_tick__")}function ov(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var sv=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=x({token:t,providedIn:"root",factory:()=>new t})}return t})();var Td=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Md=new A("");function un(t){return!!t&&typeof t.then=="function"}function ja(t){return!!t&&typeof t.subscribe=="function"}var av=new A("");var xd=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=_(av,{optional:!0})??[];injector=_(at);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=$e(this.injector,i);if(un(o))n.push(o);else if(ja(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Va=new A("");function cv(){hl(()=>{let t="";throw new S(600,t)})}function lv(t){return t.isBoundToModule}var g0=10;var zn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(He);afterRenderManager=_(sv);zonelessEnabled=_(Hi);rootEffectScheduler=_(Mu);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new me;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=_(an);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(V(n=>!n))}constructor(){_(io,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=_(ve);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=at.NULL){return this._injector.get(le).run(()=>{Z(10);let s=n instanceof Pa;if(!this._injector.get(xd).done){let g="";throw new S(405,g)}let c;s?c=n:c=this._injector.get(to).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=lv(c)?void 0:this._injector.get($n),u=r||c.selector,d=c.create(i,[],u,l),p=d.location.nativeElement,f=d.injector.get(Md,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),qi(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),Z(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Z(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Cd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new S(101,!1);let n=j(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,j(n),this.afterTick.next(),Z(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Vn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<g0;)Z(14),this.synchronizeOnce(),Z(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!$i(i))continue;let o=r&&!this.zonelessEnabled?0:1;_d(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>$i(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;qi(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Va,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qi(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qi(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ee(t,e,n){let r=te(),i=ra();if(no(r,i,e)){let o=bt(),s=ag();OE(s,r,t,e,r[_e],n)}return Ee}function Fg(t,e,n,r,i){fd(e,t,n,i?"class":"style",r)}function E(t,e,n,r){let i=te(),o=bt(),s=Be+t,a=i[_e],c=o.firstCreatePass?Zm(s,o,i,e,Am,mu(),n,r):o.data[s],l=m0(o,i,c,a,e,t);i[s]=l;let u=Xs(c);return Or(c,!0),Cm(a,l,c),!gd(c)&&aa()&&vd(o,i,l,c),(Bp()===0||u)&&Xi(l,i),Hp(),u&&(dd(o,i,c),mm(o,c,i)),r!==null&&xm(i,c),E}function T(){let t=dt();yu()?Zp():(t=t.parent,Or(t,!1));let e=t;qp(e)&&Wp(),zp();let n=bt();return n.firstCreatePass&&Ym(n,e),e.classesWithoutHost!=null&&Fb(e)&&Fg(n,e,te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Lb(e)&&Fg(n,e,te(),e.stylesWithoutHost,!1),T}function Ae(t,e,n,r){return E(t,e,n,r),T(),Ae}var m0=(t,e,n,r,i,o)=>(ca(!0),Em(r,i,cg()));function Gn(){return te()}var oo="en-US";var v0=oo;function uv(t){typeof t=="string"&&(v0=t.toLowerCase().replace(/_/g,"-"))}function pe(t,e,n){let r=te(),i=bt(),o=dt();return y0(i,r,r[_e],o,t,e,n),pe}function y0(t,e,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Ou(r,e,o),PD(r,t,e,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],f=u[d+1];c??=Ou(r,e,o),Mg(r,e,p,f,i,c)}if(l&&l.length)for(let d of l)c??=Ou(r,e,o),Mg(r,e,d,i,i,c)}}function De(t=1){return sg(t)}function ua(t,e){return t<<17|e<<2}function Un(t){return t>>17&32767}function _0(t){return(t&2)==2}function w0(t,e){return t&131071|e<<17}function Ju(t){return t|2}function Vr(t){return(t&131068)>>2}function ku(t,e){return t&-131069|e<<2}function b0(t){return(t&1)===1}function Qu(t){return t|1}function E0(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Un(s),c=Vr(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Tr(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let p=Un(t[a+1]);t[r+1]=ua(p,a),p!==0&&(t[p+1]=ku(t[p+1],r)),t[a+1]=w0(t[a+1],r)}else t[r+1]=ua(a,0),a!==0&&(t[a+1]=ku(t[a+1],r)),a=r;else t[r+1]=ua(c,0),a===0?a=r:t[c+1]=ku(t[c+1],r),c=r;l&&(t[r+1]=Ju(t[r+1])),Lg(t,u,r,!0),Lg(t,u,r,!1),D0(e,u,t,r,o),s=ua(a,c),o?e.classBindings=s:e.styleBindings=s}function D0(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Tr(o,e)>=0&&(n[r+1]=Qu(n[r+1]))}function Lg(t,e,n,r){let i=t[n+1],o=e===null,s=r?Un(i):Vr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];C0(c,e)&&(a=!0,t[s+1]=r?Qu(l):Ju(l)),s=r?Un(l):Vr(l)}a&&(t[n+1]=r?Ju(i):Qu(i))}function C0(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Tr(t,e)>=0:!1}function tt(t,e){return I0(t,e,null,!0),tt}function I0(t,e,n,r){let i=te(),o=bt(),s=Qp(2);if(o.firstUpdatePass&&T0(o,t,s,r),e!==Ct&&no(i,s,e)){let a=o.data[Ln()];O0(o,a,i,i[_e],t,i[s+1]=N0(e,n),r,s)}}function S0(t,e){return e>=t.expandoStartIndex}function T0(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ln()],s=S0(t,n);k0(o,r)&&e===null&&!s&&(e=!1),e=M0(i,o,e,r),E0(i,o,e,n,s,r)}}function M0(t,e,n,r){let i=ng(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Pu(null,t,e,n,r),n=Yi(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Pu(i,t,e,n,r),o===null){let c=x0(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Pu(null,t,e,c[1],r),c=Yi(c,e.attrs,r),A0(t,e,r,c))}else o=R0(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function x0(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Vr(r)!==0)return t[Un(r)]}function A0(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Un(i)]=r}function R0(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Yi(r,s,n)}return Yi(r,e.attrs,n)}function Pu(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Yi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Yi(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Tp(t,s,n?!0:e[++o]))}return t===void 0?null:t}function O0(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=b0(l)?jg(c,e,n,i,Vr(l),s):void 0;if(!Sa(u)){Sa(o)||_0(l)&&(o=jg(c,null,n,i,a,s));let d=du(Ln(),n);iD(r,s,d,i,o)}}function jg(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[i+1];p===Ct&&(p=d?Ke:void 0);let f=d?Ys(p,r):u===r?p:void 0;if(l&&!Sa(f)&&(f=Ys(c,r)),Sa(f)&&(a=f,s))return a;let g=t[i+1];i=s?Un(g):Vr(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ys(c,r))}return a}function Sa(t){return t!==void 0}function N0(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Fe(id(t)))),t}function k0(t,e){return(t.flags&(e?8:16))!==0}function O(t,e=""){let n=te(),r=bt(),i=t+Be,o=r.firstCreatePass?bd(r,i,1,e,null):r.data[i],s=P0(r,n,o,e,t);n[i]=s,aa()&&vd(r,n,s,o),Or(o,!1)}var P0=(t,e,n,r,i)=>(ca(!0),wE(e[_e],r));function F0(t,e,n,r=""){return no(t,ra(),n)?e+xi(n)+r:Ct}function dn(t){return Br("",t),dn}function Br(t,e,n){let r=te(),i=F0(r,t,e,n);return i!==Ct&&L0(r,Ln(),i),Br}function L0(t,e,n){let r=du(e,t);bE(t[_e],r,n)}function Ad(t){return no(te(),ra(),t)?xi(t):Ct}function j0(t,e){let n=t[e];return n===Ct?void 0:n}function V0(t,e,n,r,i,o){let s=e+n;return no(t,s,i)?kD(t,s+1,o?r.call(o,i):r(i)):j0(t,s+1)}function so(t,e){let n=bt(),r,i=t+Be;n.firstCreatePass?(r=$0(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Xt(r.type,!0)),s,a=xe(be);try{let c=va(!1),l=o();return va(c),fu(n,te(),i,l),l}finally{xe(a)}}function $0(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ao(t,e,n){let r=t+Be,i=te(),o=Fp(i,r);return U0(i,r)?V0(i,Yp(),e,o.transform,n,o):o.transform(n)}function U0(t,e){return t[$].data[e].pure}var Ta=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Rd=(()=>{class t{compileModuleSync(n){return new Da(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=ru(n),o=wm(i.declarations).reduce((s,a)=>{let c=nn(a);return c&&s.push(new jr(c)),s},[]);return new Ta(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var B0=(()=>{class t{zone=_(le);changeDetectionScheduler=_(Mn);applicationRef=_(zn);applicationErrorHandler=_(He);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dv=new A("",{factory:()=>!1});function Od({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new le(W(b({},kd()),{scheduleInRootZone:n})),[{provide:le,useFactory:t},{provide:tn,multi:!0,useFactory:()=>{let r=_(B0,{optional:!0});return()=>r.initialize()}},{provide:tn,multi:!0,useFactory:()=>{let r=_(H0);return()=>{r.initialize()}}},e===!0?{provide:Su,useValue:!0}:[],{provide:Tu,useValue:n??rv},{provide:He,useFactory:()=>{let r=_(le),i=_(ve),o;return s=>{o??=i.get(yt),r.runOutsideAngular(()=>o.handleError(s))}}}]}function Nd(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Od({ngZoneFactory:()=>{let i=kd(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Fa("NgZone_CoalesceEvent"),new le(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ri([{provide:dv,useValue:!0},{provide:Hi,useValue:!1},r])}function kd(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var H0=(()=>{class t{subscription=new re;initialized=!1;zone=_(le);pendingTasks=_(an);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fv=(()=>{class t{applicationErrorHandler=_(He);appRef=_(zn);taskService=_(an);ngZone=_(le);zonelessEnabled=_(Hi);tracing=_(io,{optional:!0});disableScheduling=_(Su,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ca):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(Tu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ia||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Ng:iv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ca+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ng(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function z0(){return typeof $localize<"u"&&$localize.locale||oo}var $a=new A("",{providedIn:"root",factory:()=>_($a,{optional:!0,skipSelf:!0})||z0()});function Hr(t){return yp(t)}var hv=class{[Ot];constructor(e){this[Ot]=e}destroy(){this[Ot].destroy()}};var yv=Symbol("InputSignalNode#UNSET"),uC=W(b({},pl),{transformFn:void 0,applyValueToInputSignal(t,e){ps(t,e)}});function _v(t,e){let n=Object.create(uC);n.value=t,n.transformFn=e?.transform;function r(){if(us(n),n.value===yv){let i=null;throw new S(-950,i)}return n.value}return r[Ot]=n,r}var dC=new A("");dC.__NG_ELEMENT_ID__=t=>{let e=dt();if(e===null)throw new S(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new S(204,!1)};function pv(t,e){return _v(t,e)}function fC(t){return _v(yv,t)}var wv=(pv.required=fC,pv);var Pd=new A(""),hC=new A("");function co(t){return!t.moduleRef}function pC(t){let e=co(t)?t.r3Injector:t.moduleRef.injector,n=e.get(le);return n.run(()=>{co(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(He),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),co(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Pd);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Pd);s.add(o),t.moduleRef.onDestroy(()=>{qi(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return mC(r,n,()=>{let o=e.get(xd);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get($a,oo);if(uv(s||oo),!e.get(hC,!0))return co(t)?e.get(zn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(co(t)){let c=e.get(zn);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return gC?.(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}var gC;function mC(t,e,n){try{let r=n();return un(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ua=null;function vC(t=[],e){return at.create({name:e,providers:[{provide:Oi,useValue:"platform"},{provide:Pd,useValue:new Set([()=>Ua=null])},...t]})}function yC(t=[]){if(Ua)return Ua;let e=vC(t);return Ua=e,cv(),_C(e),e}function _C(t){let e=t.get(Ra,null);$e(t,()=>{e?.forEach(n=>n())})}var lo=(()=>{class t{static __NG_ELEMENT_ID__=wC}return t})();function wC(t){return bC(dt(),te(),(t&16)===16)}function bC(t,e,n){if(on(t)&&!n){let r=ut(t.index,e);return new cn(r,r)}else if(t.type&175){let r=e[Je];return new cn(r,e)}return null}var Fd=class{constructor(){}supports(e){return Ed(e)}create(e){return new Ld(e)}},EC=(t,e)=>e,Ld=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||EC}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<gv(r,i,o)?n:r,a=gv(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let p=0;p<l;p++){let f=p<o.length?o[p]:o[p]=0,g=f+p;u<=g&&g<l&&(o[p]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Ed(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Jm(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new jd(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ba),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ba),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Vd=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ba=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Vd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function gv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function mv(){return new $d([new Fd])}var $d=(()=>{class t{factories;static \u0275prov=x({token:t,providedIn:"root",factory:mv});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||mv()),deps:[[t,new Hg,new Bg]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new S(901,!1)}}return t})();function bv(t){Z(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=yC(r),o=[Od({}),{provide:Mn,useExisting:fv},ug,...n||[]],s=new Zi({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return pC({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Z(9)}}var Cv=null;function Ut(){return Cv}function Ud(t){Cv??=t}var uo=class{},Bd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:()=>_(Iv),providedIn:"platform"})}return t})();var Iv=(()=>{class t extends Bd{_location;_history;_doc=_(we);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ut().getBaseHref(this._doc)}onPopState(n){let r=Ut().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ut().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Sv(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Ev(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function fn(t){return t&&t[0]!=="?"?`?${t}`:t}var Ha=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:()=>_(Mv),providedIn:"root"})}return t})(),Tv=new A(""),Mv=(()=>{class t extends Ha{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Sv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+fn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+fn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+fn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(F(Bd),F(Tv,8))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zr=(()=>{class t{_subject=new me;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=IC(Ev(Dv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+fn(r))}normalize(n){return t.stripTrailingSlash(CC(this._basePath,Dv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=fn;static joinWithSlash=Sv;static stripTrailingSlash=Ev;static \u0275fac=function(r){return new(r||t)(F(Ha))};static \u0275prov=x({token:t,factory:()=>DC(),providedIn:"root"})}return t})();function DC(){return new zr(F(Ha))}function CC(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Dv(t){return t.replace(/\/index.html$/,"")}function IC(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var za=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gr=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new za(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),xv(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);xv(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(be(Bn),be(eo),be($d))};static \u0275dir=Hn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function xv(t,e){t.context.$implicit=e.item}var fo=(()=>{class t{_viewContainer;_context=new Ga;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Av(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Av(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(be(Bn),be(eo))};static \u0275dir=Hn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Ga=class{$implicit=null;ngIf=null};function Av(t,e){if(t&&!t.createEmbeddedView)throw new S(2020,!1)}function SC(t,e){return new S(2100,!1)}var Hd=class{createSubscription(e,n,r){return Hr(()=>e.subscribe({next:n,error:r}))}dispose(e){Hr(()=>e.unsubscribe())}},zd=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},TC=new zd,MC=new Hd,ho=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=_(He);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(un(n))return TC;if(ja(n))return MC;throw SC(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(be(lo,16))};static \u0275pipe=Dd({name:"async",type:t,pure:!1})}return t})();var hn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ln({type:t});static \u0275inj=jt({})}return t})();function Gd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qd="browser",Rv="server";function Wd(t){return t===Rv}var po=class{};var Ka=new A(""),Jd=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(F(Ka),F(le))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})(),go=class{_doc;constructor(e){this._doc=e}manager},qa="ng-app-id";function Nv(t){for(let e of t)e.remove()}function kv(t,e){let n=e.createElement("style");return n.textContent=t,n}function xC(t,e,n,r){let i=t.head?.querySelectorAll(`style[${qa}="${e}"],link[${qa}="${e}"]`);if(i)for(let o of i)o.removeAttribute(qa),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Zd(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Qd=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Wd(o),xC(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,kv);r?.forEach(i=>this.addUsage(i,this.external,Zd))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Nv(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Nv(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,kv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Zd(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(qa,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(F(we),F(Aa),F(Oa,8),F(Ur))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})(),Kd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xd=/%COMP%/g;var Fv="%COMP%",AC=`_nghost-${Fv}`,RC=`_ngcontent-${Fv}`,OC=!0,NC=new A("",{providedIn:"root",factory:()=>OC});function kC(t){return RC.replace(Xd,t)}function PC(t){return AC.replace(Xd,t)}function Lv(t,e){return e.map(n=>n.replace(Xd,t))}var ef=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new mo(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Wa?i.applyToHost(n):i instanceof vo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case $t.Emulated:o=new Wa(c,l,r,this.appId,u,s,a,d,p);break;case $t.ShadowDom:return new Yd(c,l,n,r,s,a,this.nonce,d,p);default:o=new vo(c,l,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(F(Jd),F(Qd),F(Aa),F(NC),F(we),F(Ur),F(le),F(Oa),F(io,8))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})(),mo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Kd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Pv(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Pv(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Kd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Kd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Dt.DashCase|Dt.Important)?e.style.setProperty(n,r,i&Dt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Dt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Ut().getGlobalEventTarget(this.doc,e),!e))throw new S(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Pv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Yd=class extends mo{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Lv(i.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=Zd(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vo=class extends mo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?Lv(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wa=class extends vo{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,l,u),this.contentAttr=kC(u),this.hostAttr=PC(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Za=class t extends uo{supportsDOMEvents=!0;static makeCurrent(){Ud(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=FC();return n==null?null:LC(n)}resetBaseElement(){yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gd(document.cookie,e)}},yo=null;function FC(){return yo=yo||document.head.querySelector("base"),yo?yo.getAttribute("href"):null}function LC(t){return new URL(t,document.baseURI).pathname}var jC=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})(),Vv=(()=>{class t extends go{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(F(we))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})(),jv=["alt","control","meta","shift"],VC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$C={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$v=(()=>{class t extends go{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ut().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),jv.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=VC[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jv.forEach(s=>{if(s!==i){let a=$C[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(F(we))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})();function tf(t,e){return bv(b({rootComponent:t},UC(e)))}function UC(t){return{appProviders:[...qC,...t?.providers??[]],platformProviders:GC}}function BC(){Za.makeCurrent()}function HC(){return new yt}function zC(){return rd(document),document}var GC=[{provide:Ur,useValue:qd},{provide:Ra,useValue:BC,multi:!0},{provide:we,useFactory:zC}];var qC=[{provide:Oi,useValue:"root"},{provide:yt,useFactory:HC},{provide:Ka,useClass:Vv,multi:!0,deps:[we]},{provide:Ka,useClass:$v,multi:!0,deps:[we]},ef,Qd,Jd,{provide:Vn,useExisting:ef},{provide:po,useClass:jC},[]];var Uv=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(F(we))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var P="primary",No=Symbol("RouteTitle"),af=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Kn(t){return new af(t)}function Zv(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function KC(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!It(t[n],e[n]))return!1;return!0}function It(t,e){let n=t?cf(t):void 0,r=e?cf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Yv(t[i],e[i]))return!1;return!0}function cf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Yv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Jv(t){return t.length>0?t[t.length-1]:null}function zt(t){return Tl(t)?t:un(t)?ie(Promise.resolve(t)):R(t)}var ZC={exact:Xv,subset:ey},Qv={exact:YC,subset:JC,ignored:()=>!0};function Bv(t,e,n){return ZC[n.paths](t.root,e.root,n.matrixParams)&&Qv[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function YC(t,e){return It(t,e)}function Xv(t,e,n){if(!qn(t.segments,e.segments)||!Qa(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Xv(t.children[r],e.children[r],n))return!1;return!0}function JC(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Yv(t[n],e[n]))}function ey(t,e,n){return ty(t,e,e.segments,n)}function ty(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!qn(i,n)||e.hasChildren()||!Qa(i,n,r))}else if(t.segments.length===n.length){if(!qn(t.segments,n)||!Qa(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ey(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!qn(t.segments,i)||!Qa(t.segments,i,r)||!t.children[P]?!1:ty(t.children[P],e,o,r)}}function Qa(t,e,n){return e.every((r,i)=>Qv[n](t[i].parameters,r.parameters))}var Tt=class{root;queryParams;fragment;_queryParamMap;constructor(e=new G([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Kn(this.queryParams),this._queryParamMap}toString(){return eI.serialize(this)}},G=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xa(this)}},pn=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Kn(this.parameters),this._parameterMap}toString(){return ry(this)}};function QC(t,e){return qn(t,e)&&t.every((n,r)=>It(n.parameters,e[r].parameters))}function qn(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function XC(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===P&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==P&&(n=n.concat(e(i,r)))}),n}var ko=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:()=>new Zn,providedIn:"root"})}return t})(),Zn=class{parse(e){let n=new uf(e);return new Tt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${_o(e.root,!0)}`,r=rI(e.queryParams),i=typeof e.fragment=="string"?`#${tI(e.fragment)}`:"";return`${n}${r}${i}`}},eI=new Zn;function Xa(t){return t.segments.map(e=>ry(e)).join("/")}function _o(t,e){if(!t.hasChildren())return Xa(t);if(e){let n=t.children[P]?_o(t.children[P],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==P&&r.push(`${i}:${_o(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=XC(t,(r,i)=>i===P?[_o(t.children[P],!1)]:[`${i}:${_o(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[P]!=null?`${Xa(t)}/${n[0]}`:`${Xa(t)}/(${n.join("//")})`}}function ny(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ya(t){return ny(t).replace(/%3B/gi,";")}function tI(t){return encodeURI(t)}function lf(t){return ny(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ec(t){return decodeURIComponent(t)}function Hv(t){return ec(t.replace(/\+/g,"%20"))}function ry(t){return`${lf(t.path)}${nI(t.parameters)}`}function nI(t){return Object.entries(t).map(([e,n])=>`;${lf(e)}=${lf(n)}`).join("")}function rI(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ya(n)}=${Ya(i)}`).join("&"):`${Ya(n)}=${Ya(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var iI=/^[^\/()?;#]+/;function nf(t){let e=t.match(iI);return e?e[0]:""}var oI=/^[^\/()?;=#]+/;function sI(t){let e=t.match(oI);return e?e[0]:""}var aI=/^[^=?&#]+/;function cI(t){let e=t.match(aI);return e?e[0]:""}var lI=/^[^&#]+/;function uI(t){let e=t.match(lI);return e?e[0]:""}var uf=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new G([],{}):new G([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[P]=new G(e,n)),r}parseSegment(){let e=nf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new pn(ec(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=sI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=nf(this.remaining);i&&(r=i,this.capture(r))}e[ec(n)]=ec(r)}parseQueryParam(e){let n=cI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=uI(this.remaining);s&&(r=s,this.capture(r))}let i=Hv(n),o=Hv(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=P);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[P]:new G([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function iy(t){return t.segments.length>0?new G([],{[P]:t}):t}function oy(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=oy(i);if(r===P&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new G(t.segments,e);return dI(n)}function dI(t){if(t.numberOfChildren===1&&t.children[P]){let e=t.children[P];return new G(t.segments.concat(e.segments),e.children)}return t}function Yr(t){return t instanceof Tt}function sy(t,e,n=null,r=null){let i=ay(t);return cy(i,e,n,r)}function ay(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new G(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=iy(r);return e??i}function cy(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return rf(i,i,i,n,r);let o=fI(e);if(o.toRoot())return rf(i,i,new G([],{}),n,r);let s=hI(o,i,t),a=s.processChildren?bo(s.segmentGroup,s.index,o.commands):uy(s.segmentGroup,s.index,o.commands);return rf(i,s.segmentGroup,a,n,r)}function tc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Co(t){return typeof t=="object"&&t!=null&&t.outlets}function rf(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=ly(t,e,n);let a=iy(oy(s));return new Tt(a,o,i)}function ly(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=ly(o,e,n)}),new G(t.segments,r)}var nc=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&tc(r[0]))throw new S(4003,!1);let i=r.find(Co);if(i&&i!==Jv(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fI(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new nc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new nc(n,e,r)}var Kr=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function hI(t,e,n){if(t.isAbsolute)return new Kr(e,!0,0);if(!n)return new Kr(e,!1,NaN);if(n.parent===null)return new Kr(n,!0,0);let r=tc(t.commands[0])?0:1,i=n.segments.length-1+r;return pI(n,i,t.numberOfDoubleDots)}function pI(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Kr(r,!1,i-o)}function gI(t){return Co(t[0])?t[0].outlets:{[P]:t}}function uy(t,e,n){if(t??=new G([],{}),t.segments.length===0&&t.hasChildren())return bo(t,e,n);let r=mI(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new G(t.segments.slice(0,r.pathIndex),{});return o.children[P]=new G(t.segments.slice(r.pathIndex),t.children),bo(o,0,i)}else return r.match&&i.length===0?new G(t.segments,{}):r.match&&!t.hasChildren()?df(t,e,n):r.match?bo(t,0,i):df(t,e,n)}function bo(t,e,n){if(n.length===0)return new G(t.segments,{});{let r=gI(n),i={};if(Object.keys(r).some(o=>o!==P)&&t.children[P]&&t.numberOfChildren===1&&t.children[P].segments.length===0){let o=bo(t.children[P],e,n);return new G(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=uy(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new G(t.segments,i)}}function mI(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Co(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Gv(c,l,s))return o;r+=2}else{if(!Gv(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function df(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Co(o)){let c=vI(o.outlets);return new G(r,c)}if(i===0&&tc(n[0])){let c=t.segments[e];r.push(new pn(c.path,zv(n[0]))),i++;continue}let s=Co(o)?o.outlets[P]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&tc(a)?(r.push(new pn(s,zv(a))),i+=2):(r.push(new pn(s,{})),i++)}return new G(r,{})}function vI(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=df(new G([],{}),0,r))}),e}function zv(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Gv(t,e,n){return t==n.path&&It(e,n.parameters)}var Eo="imperative",ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ge||{}),Ge=class{id;url;constructor(e,n){this.id=e,this.url=n}},Yn=class extends Ge{type=ge.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bt=class extends Ge{urlAfterRedirects;type=ge.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Re=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Re||{}),Io=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Io||{}),St=class extends Ge{reason;code;type=ge.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ht=class extends Ge{reason;code;type=ge.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Jr=class extends Ge{error;target;type=ge.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},So=class extends Ge{urlAfterRedirects;state;type=ge.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rc=class extends Ge{urlAfterRedirects;state;type=ge.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ic=class extends Ge{urlAfterRedirects;state;shouldActivate;type=ge.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},oc=class extends Ge{urlAfterRedirects;state;type=ge.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sc=class extends Ge{urlAfterRedirects;state;type=ge.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ac=class{route;type=ge.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cc=class{route;type=ge.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lc=class{snapshot;type=ge.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uc=class{snapshot;type=ge.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dc=class{snapshot;type=ge.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fc=class{snapshot;type=ge.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var To=class{},Qr=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function yI(t){return!(t instanceof To)&&!(t instanceof Qr)}function _I(t,e){return t.providers&&!t._injector&&(t._injector=ro(t.providers,e,`Route: ${t.path}`)),t._injector??e}function gt(t){return t.outlet||P}function wI(t,e){let n=t.filter(r=>gt(r)===e);return n.push(...t.filter(r=>gt(r)!==e)),n}function Po(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var hc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Po(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ti(this.rootInjector)}},ti=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new hc(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(F(ve))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pc=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ff(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ff(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=hf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hf(e,this._root).map(n=>n.value)}};function ff(t,e){if(t===e.value)return e;for(let n of e.children){let r=ff(t,n);if(r)return r}return null}function hf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=hf(t,n);if(r.length)return r.unshift(e),r}return[]}var ze=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Wr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Mo=class extends pc{snapshot;constructor(e,n){super(e),this.snapshot=n,bf(this,e)}toString(){return this.snapshot.toString()}};function dy(t){let e=bI(t),n=new ae([new pn("",{})]),r=new ae({}),i=new ae({}),o=new ae({}),s=new ae(""),a=new gn(n,r,o,s,i,P,t,e.root);return a.snapshot=e.root,new Mo(new ze(a,[]),e)}function bI(t){let e={},n={},r={},i="",o=new Wn([],e,r,i,n,P,t,null,{});return new xo("",new ze(o,[]))}var gn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(V(l=>l[No]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(e=>Kn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(e=>Kn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:b(b({},e.params),t.params),data:b(b({},e.data),t.data),resolve:b(b(b(b({},t.data),e.data),i?.data),t._resolvedData)}:r={params:b({},t.params),data:b({},t.data),resolve:b(b({},t.data),t._resolvedData??{})},i&&hy(i)&&(r.resolve[No]=i.title),r}var Wn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[No]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},xo=class extends pc{url;constructor(e,n){super(n),this.url=e,bf(this,n)}toString(){return fy(this._root)}};function bf(t,e){e.value._routerState=t,e.children.forEach(n=>bf(t,n))}function fy(t){let e=t.children.length>0?` { ${t.children.map(fy).join(", ")} } `:"";return`${t.value}${e}`}function of(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,It(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),It(e.params,n.params)||t.paramsSubject.next(n.params),KC(e.url,n.url)||t.urlSubject.next(n.url),It(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pf(t,e){let n=It(t.params,e.params)&&QC(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||pf(t.parent,e.parent))}function hy(t){return typeof t.title=="string"||t.title===null}var py=new A(""),Fo=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=P;activateEvents=new Se;deactivateEvents=new Se;attachEvents=new Se;detachEvents=new Se;routerOutletData=wv(void 0);parentContexts=_(ti);location=_(Bn);changeDetector=_(lo);inputBinder=_(_c,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new gf(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Hn({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ji]})}return t})(),gf=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===gn?this.route:e===ti?this.childContexts:e===py?this.outletData:this.parent.get(e,n)}},_c=new A("");var Ef=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ht({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ae(0,"router-outlet")},dependencies:[Fo],encapsulation:2})}return t})();function Df(t){let e=t.children&&t.children.map(Df),n=e?W(b({},t),{children:e}):b({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==P&&(n.component=Ef),n}function EI(t,e,n){let r=Ao(t,e._root,n?n._root:void 0);return new Mo(r,e)}function Ao(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=DI(t,e,n);return new ze(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ao(t,a)),s}}let r=CI(e.value),i=e.children.map(o=>Ao(t,o));return new ze(r,i)}}function DI(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ao(t,r,i);return Ao(t,r)})}function CI(t){return new gn(new ae(t.url),new ae(t.params),new ae(t.queryParams),new ae(t.fragment),new ae(t.data),t.outlet,t.component,t)}var Xr=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},gy="ngNavigationCancelingError";function mc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Yr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=my(!1,Re.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function my(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gy]=!0,n.cancellationCode=e,n}function II(t){return vy(t)&&Yr(t.url)}function vy(t){return!!t&&t[gy]}var SI=(t,e,n,r)=>V(i=>(new mf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),mf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),of(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Wr(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Wr(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fc(o.value.snapshot))}),e.children.length&&this.forwardEvent(new uc(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(of(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),of(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},vc=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Zr=class{component;route;constructor(e,n){this.component=e,this.route=n}};function TI(t,e,n){let r=t._root,i=e?e._root:null;return wo(r,i,n,[r.value])}function MI(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ni(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Gl(t)?t:e.get(t):r}function wo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wr(e);return t.children.forEach(s=>{xI(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Do(a,n.getContext(s),i)),i}function xI(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=AI(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new vc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wo(t,e,a?a.children:null,r,i):wo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zr(a.outlet.component,s))}else s&&Do(e,a,i),i.canActivateChecks.push(new vc(r)),o.component?wo(t,null,a?a.children:null,r,i):wo(t,null,n,r,i);return i}function AI(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!qn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qn(t.url,e.url)||!It(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pf(t,e)||!It(t.queryParams,e.queryParams);case"paramsChange":default:return!pf(t,e)}}function Do(t,e,n){let r=Wr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Do(s,e.children.getContext(o),n):Do(s,null,n):Do(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Zr(e.outlet.component,i)):n.canDeactivateChecks.push(new Zr(null,i)):n.canDeactivateChecks.push(new Zr(null,i))}function Lo(t){return typeof t=="function"}function RI(t){return typeof t=="boolean"}function OI(t){return t&&Lo(t.canLoad)}function NI(t){return t&&Lo(t.canActivate)}function kI(t){return t&&Lo(t.canActivateChild)}function PI(t){return t&&Lo(t.canDeactivate)}function FI(t){return t&&Lo(t.canMatch)}function yy(t){return t instanceof kt||t?.name==="EmptyError"}var Ja=Symbol("INITIAL_VALUE");function ei(){return We(t=>Ls(t.map(e=>e.pipe(Pt(1),Al(Ja)))).pipe(V(e=>{for(let n of e)if(n!==!0){if(n===Ja)return Ja;if(n===!1||LI(n))return n}return!0}),qe(e=>e!==Ja),Pt(1)))}function LI(t){return Yr(t)||t instanceof Xr}function jI(t,e){return ce(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R(W(b({},n),{guardsResult:!0})):VI(s,r,i,t).pipe(ce(a=>a&&RI(a)?$I(r,o,t,e):R(a)),V(a=>W(b({},n),{guardsResult:a})))})}function VI(t,e,n,r){return ie(t).pipe(ce(i=>GI(i.component,i.route,n,e,r)),Ft(i=>i!==!0,!0))}function $I(t,e,n,r){return ie(e).pipe(Cr(i=>Dr(BI(i.route.parent,r),UI(i.route,r),zI(t,i.path,n),HI(t,i.route,n))),Ft(i=>i!==!0,!0))}function UI(t,e){return t!==null&&e&&e(new dc(t)),R(!0)}function BI(t,e){return t!==null&&e&&e(new lc(t)),R(!0)}function HI(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>Ei(()=>{let s=Po(e)??n,a=ni(o,s),c=NI(a)?a.canActivate(e,t):$e(s,()=>a(e,t));return zt(c).pipe(Ft())}));return R(i).pipe(ei())}function zI(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>MI(s)).filter(s=>s!==null).map(s=>Ei(()=>{let a=s.guards.map(c=>{let l=Po(s.node)??n,u=ni(c,l),d=kI(u)?u.canActivateChild(r,t):$e(l,()=>u(r,t));return zt(d).pipe(Ft())});return R(a).pipe(ei())}));return R(o).pipe(ei())}function GI(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let c=Po(e)??i,l=ni(a,c),u=PI(l)?l.canDeactivate(t,e,n,r):$e(c,()=>l(t,e,n,r));return zt(u).pipe(Ft())});return R(s).pipe(ei())}function qI(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=ni(s,t),c=OI(a)?a.canLoad(e,n):$e(t,()=>a(e,n));return zt(c)});return R(o).pipe(ei(),_y(r))}function _y(t){return wl(he(e=>{if(typeof e!="boolean")throw mc(t,e)}),V(e=>e===!0))}function WI(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=ni(s,t),c=FI(a)?a.canMatch(e,n):$e(t,()=>a(e,n));return zt(c)});return R(o).pipe(ei(),_y(r))}var Ro=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Oo=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function qr(t){return Er(new Ro(t))}function KI(t){return Er(new S(4e3,!1))}function ZI(t){return Er(my(!1,Re.GuardRejected))}var vf=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[P])return KI(`${e.redirectTo}`);i=i.children[P]}}applyRedirectCommands(e,n,r,i,o){return YI(n,i,o).pipe(V(s=>{if(s instanceof Tt)throw new Oo(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Oo(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Tt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new G(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function YI(t,e,n){if(typeof t=="string")return R(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=e;return zt($e(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var yf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JI(t,e,n,r,i){let o=wy(t,e,n);return o.matched?(r=_I(e,r),WI(r,e,n,i).pipe(V(s=>s===!0?o:b({},yf)))):R(o)}function wy(t,e,n){if(e.path==="**")return QI(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?b({},yf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Zv)(n,t,e);if(!i)return b({},yf);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?b(b({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function QI(t){return{matched:!0,parameters:t.length>0?Jv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qv(t,e,n,r){return n.length>0&&tS(t,n,r)?{segmentGroup:new G(e,eS(r,new G(n,t.children))),slicedSegments:[]}:n.length===0&&nS(t,n,r)?{segmentGroup:new G(t.segments,XI(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new G(t.segments,t.children),slicedSegments:n}}function XI(t,e,n,r){let i={};for(let o of n)if(wc(t,e,o)&&!r[gt(o)]){let s=new G([],{});i[gt(o)]=s}return b(b({},r),i)}function eS(t,e){let n={};n[P]=e;for(let r of t)if(r.path===""&&gt(r)!==P){let i=new G([],{});n[gt(r)]=i}return n}function tS(t,e,n){return n.some(r=>wc(t,e,r)&&gt(r)!==P)}function nS(t,e,n){return n.some(r=>wc(t,e,r))}function wc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function rS(t,e,n){return e.length===0&&!t.children[n]}var _f=class{};function iS(t,e,n,r,i,o,s="emptyOnly"){return new wf(t,e,n,r,i,s,o).recognize()}var oS=31,wf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new vf(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=qv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(V(({children:n,rootSnapshot:r})=>{let i=new ze(r,n),o=new xo("",i),s=sy(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Wn([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),P,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,P,n).pipe(V(r=>({children:r,rootSnapshot:n})),Jt(r=>{if(r instanceof Oo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ro?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(V(s=>s instanceof ze?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ie(o).pipe(Cr(s=>{let a=r.children[s],c=wI(n,s);return this.processSegmentGroup(e,c,a,s,i)}),xl((s,a)=>(s.push(...a),s)),Qt(null),Ml(),ce(s=>{if(s===null)return qr(r);let a=by(s);return sS(a),R(a)}))}processSegment(e,n,r,i,o,s,a){return ie(n).pipe(Cr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Jt(l=>{if(l instanceof Ro)return R(null);throw l}))),Ft(c=>!!c),Jt(c=>{if(yy(c))return rS(r,i,o)?R(new _f):qr(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return gt(r)!==s&&(s===P||!wc(i,o,r))?qr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):qr(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=wy(n,i,o);if(!c)return qr(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oS&&(this.allowRedirects=!1));let f=new Wn(o,l,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Wv(i),gt(i),i.component??i._loadedComponent??null,i,Kv(i)),g=gc(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(g.params),f.data=Object.freeze(g.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e).pipe(We(v=>this.applyRedirects.lineralizeSegments(i,v)),ce(v=>this.processSegment(e,r,n,v.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=JI(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(We(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(We(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:p,remainingSegments:f}=c,g=new Wn(p,d,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Wv(r),gt(r),r.component??r._loadedComponent??null,r,Kv(r)),m=gc(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:y}=qv(n,p,f,l);if(y.length===0&&v.hasChildren())return this.processChildren(u,l,v,g).pipe(V(D=>new ze(g,D)));if(l.length===0&&y.length===0)return R(new ze(g,[]));let U=gt(r)===o;return this.processSegment(u,l,v,y,U?P:o,!0,g).pipe(V(D=>new ze(g,D instanceof ze?[D]:[])))}))):qr(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):qI(e,n,r,this.urlSerializer).pipe(ce(i=>i?this.configLoader.loadChildren(e,n).pipe(he(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):ZI(n))):R({routes:[],injector:e})}};function sS(t){t.sort((e,n)=>e.value.outlet===P?-1:n.value.outlet===P?1:e.value.outlet.localeCompare(n.value.outlet))}function aS(t){let e=t.value.routeConfig;return e&&e.path===""}function by(t){let e=[],n=new Set;for(let r of t){if(!aS(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=by(r.children);e.push(new ze(r.value,i))}return e.filter(r=>!n.has(r))}function Wv(t){return t.data||{}}function Kv(t){return t.resolve||{}}function cS(t,e,n,r,i,o){return ce(s=>iS(t,e,n,r,s.extractedUrl,i,o).pipe(V(({state:a,tree:c})=>W(b({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function lS(t,e){return ce(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Ey(c))s.add(l);let a=0;return ie(s).pipe(Cr(c=>o.has(c)?uS(c,r,t,e):(c.data=gc(c,c.parent,t).resolve,R(void 0))),he(()=>a++),Ir(1),ce(c=>a===s.size?R(n):Ne))})}function Ey(t){let e=t.children.map(n=>Ey(n)).flat();return[t,...e]}function uS(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!hy(i)&&(o[No]=i.title),Ei(()=>(t.data=gc(t,t.parent,n).resolve,dS(o,t,e,r).pipe(V(s=>(t._resolvedData=s,t.data=b(b({},t.data),s),null)))))}function dS(t,e,n,r){let i=cf(t);if(i.length===0)return R({});let o={};return ie(i).pipe(ce(s=>fS(t[s],e,n,r).pipe(Ft(),he(a=>{if(a instanceof Xr)throw mc(new Zn,a);o[s]=a}))),Ir(1),V(()=>o),Jt(s=>yy(s)?Ne:Er(s)))}function fS(t,e,n,r){let i=Po(e)??r,o=ni(t,i),s=o.resolve?o.resolve(e,n):$e(i,()=>o(e,n));return zt(s)}function sf(t){return We(e=>{let n=t(e);return n?ie(n).pipe(V(()=>e)):R(e)})}var Cf=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===P);return r}getResolvedTitleForRoute(n){return n.data[No]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:()=>_(Dy),providedIn:"root"})}return t})(),Dy=(()=>{class t extends Cf{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(F(Uv))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jo=new A("",{providedIn:"root",factory:()=>({})}),Vo=new A(""),Cy=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(Rd);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return R(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=zt(n.loadComponent()).pipe(V(Sy),he(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Di(()=>{this.componentLoaders.delete(n)})),i=new br(r,()=>new me).pipe(wr());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Iy(r,this.compiler,n,this.onLoadEndListener).pipe(Di(()=>{this.childrenLoaders.delete(r)})),s=new br(o,()=>new me).pipe(wr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Iy(t,e,n,r){return zt(t.loadChildren()).pipe(V(Sy),ce(i=>i instanceof La||Array.isArray(i)?R(i):ie(e.compileModuleAsync(i))),V(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Vo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Df),injector:o}}))}function hS(t){return t&&typeof t=="object"&&"default"in t}function Sy(t){return hS(t)?t.default:t}var bc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:()=>_(pS),providedIn:"root"})}return t})(),pS=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ty=new A("");var My=new A(""),xy=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new me;transitionAbortWithErrorSubject=new me;configLoader=_(Cy);environmentInjector=_(ve);destroyRef=_(Pr);urlSerializer=_(ko);rootContexts=_(ti);location=_(zr);inputBindingEnabled=_(_c,{optional:!0})!==null;titleStrategy=_(Cf);options=_(jo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(bc);createViewTransition=_(Ty,{optional:!0});navigationErrorHandler=_(My,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ac(i)),r=i=>this.events.next(new cc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(W(b({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ae(null),this.transitions.pipe(qe(r=>r!==null),We(r=>{let i=!1;return R(r).pipe(We(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Re.SupersededByNewNavigation),Ne;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?W(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new Ht(o.id,this.urlSerializer.serialize(o.rawUrl),c,Io.IgnoredSameUrlNavigation)),o.resolve(!1),Ne}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return R(o).pipe(We(c=>(this.events.next(new Yn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ne:Promise.resolve(c))),cS(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),he(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=W(b({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new So(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:p}=o,f=new Yn(c,this.urlSerializer.serialize(l),u,d);this.events.next(f);let g=dy(this.rootComponentType).snapshot;return this.currentTransition=r=W(b({},o),{targetSnapshot:g,urlAfterRedirects:l,extras:W(b({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,R(r)}else{let c="";return this.events.next(new Ht(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Io.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ne}}),he(o=>{let s=new rc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),V(o=>(this.currentTransition=r=W(b({},o),{guards:TI(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),jI(this.environmentInjector,o=>this.events.next(o)),he(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw mc(this.urlSerializer,o.guardsResult);let s=new ic(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),qe(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Re.GuardRejected),!1)),sf(o=>{if(o.guards.canActivateChecks.length!==0)return R(o).pipe(he(s=>{let a=new oc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),We(s=>{let a=!1;return R(s).pipe(lS(this.paramsInheritanceStrategy,this.environmentInjector),he({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Re.NoDataFromResolver)}}))}),he(s=>{let a=new sc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),sf(o=>{let s=a=>{let c=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(a.routeConfig).pipe(he(l=>{a.component=l}),V(()=>{})));for(let l of a.children)c.push(...s(l));return c};return Ls(s(o.targetSnapshot.root)).pipe(Qt(null),Pt(1))}),sf(()=>this.afterPreactivation()),We(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ie(a).pipe(V(()=>r)):R(r)}),V(o=>{let s=EI(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=W(b({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),he(()=>{this.events.next(new To)}),SI(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Pt(1),Vs(new z(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(qe(()=>!i&&!r.targetRouterState),he(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Re.Aborted)}))),he({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Vs(this.transitionAbortWithErrorSubject.pipe(he(o=>{throw o}))),Di(()=>{i||this.cancelNavigationTransition(r,"",Re.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jt(o=>{if(this.destroyed)return r.resolve(!1),Ne;if(i=!0,vy(o))this.events.next(new St(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),II(o)?this.events.next(new Qr(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Jr(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=$e(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Xr){let{message:c,cancellationCode:l}=mc(this.urlSerializer,a);this.events.next(new St(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Qr(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ne}))}))}cancelNavigationTransition(n,r,i){let o=new St(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gS(t){return t!==Eo}var Ay=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:()=>_(mS),providedIn:"root"})}return t})(),yc=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},mS=(()=>{class t extends yc{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qi(t)))(i||t)}})();static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ry=(()=>{class t{urlSerializer=_(ko);options=_(jo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(zr);urlHandlingStrategy=_(bc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Tt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Tt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=dy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:()=>_(vS),providedIn:"root"})}return t})(),vS=(()=>{class t extends Ry{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Yn?this.updateStateMemento():n instanceof Ht?this.commitTransition(r):n instanceof So?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof To?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof St&&n.code!==Re.SupersededByNewNavigation&&n.code!==Re.Redirect?this.restoreHistory(r):n instanceof Jr?this.restoreHistory(r,!0):n instanceof Bt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=b(b({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=b(b({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qi(t)))(i||t)}})();static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function If(t,e){t.events.pipe(qe(n=>n instanceof Bt||n instanceof St||n instanceof Jr||n instanceof Ht),V(n=>n instanceof Bt||n instanceof Ht?0:(n instanceof St?n.code===Re.Redirect||n.code===Re.SupersededByNewNavigation:!1)?2:1),qe(n=>n!==2),Pt(1)).subscribe(()=>{e()})}var yS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_S={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ri=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(Td);stateManager=_(Ry);options=_(jo,{optional:!0})||{};pendingTasks=_(an);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(xy);urlSerializer=_(ko);location=_(zr);urlHandlingStrategy=_(bc);injector=_(ve);_events=new me;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(Ay);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Vo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(_c,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new re;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof St&&r.code!==Re.Redirect&&r.code!==Re.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Bt)this.navigated=!0;else if(r instanceof Qr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=b({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||gS(i.source)},s);this.scheduleNavigation(a,Eo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yI(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Eo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=b({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.injector.get(He)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Df),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=ay(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return cy(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Yr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Eo,null,r)}navigate(n,r={skipLocationChange:!1}){return wS(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=b({},yS):r===!1?i=b({},_S):i=r,Yr(n))return Bv(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Bv(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return If(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wS(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}var DS=new A("");function Sf(t,...e){return Ri([{provide:Vo,multi:!0,useValue:t},[],{provide:gn,useFactory:CS,deps:[ri]},{provide:Va,multi:!0,useFactory:IS},e.map(n=>n.\u0275providers)])}function CS(t){return t.routerState.root}function IS(){let t=_(at);return e=>{let n=t.get(zn);if(e!==n.components[0])return;let r=t.get(ri),i=t.get(SS);t.get(TS)===1&&r.initialNavigation(),t.get(MS,null,{optional:!0})?.setUpPreloading(),t.get(DS,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var SS=new A("",{factory:()=>new me}),TS=new A("",{providedIn:"root",factory:()=>1});var MS=new A("");var Oy=(()=>{let e=class e{constructor(r){this.router=r}goToGiftList(){this.router.navigate(["/gifts"])}};e.\u0275fac=function(i){return new(i||e)(be(ri))},e.\u0275cmp=ht({type:e,selectors:[["app-welcome"]],decls:51,vars:0,consts:[[1,"welcome-container"],[1,"party-lights"],[1,"content"],[1,"title","fade-in"],[1,"subtitle","fade-in-delay-1"],[1,"intro-text","fade-in-delay-2"],[1,"thanks"],[1,"event-details","fade-in-delay-3"],[1,"detail-item"],[1,"detail-icon"],[1,"detail-content"],[1,"detail-label"],[1,"detail-value"],[1,"gift-message","fade-in-delay-4"],[1,"cta-button","fade-in-delay-5",3,"click"]],template:function(i,o){i&1&&(E(0,"div",0),Ae(1,"div",1),E(2,"div",2)(3,"h1",3),O(4,"Habemos Apartashower"),T(),E(5,"div",4)(6,"p"),O(7,"Buena la banda"),T()(),E(8,"div",5)(9,"p"),O(10," Iniciar la experiencia de vivir solo representa un paso importante para mi, pero tambi\xE9n es un momento para celebrar y agradecer a quienes han estado presentes en muchos aspectos. Por esto los invito cordialmente a compartir conmigo este momento y conocer el apto que sera mi hogar. "),T(),E(11,"p",6),O(12," Gracias por tanto y por seguir siendo parte de mi vida. "),T()(),E(13,"div",7)(14,"div",8)(15,"div",9),O(16,"\u{1F4C5}"),T(),E(17,"div",10)(18,"div",11),O(19,"Fecha"),T(),E(20,"div",12),O(21,"Domingo, 14 de Diciembre 2025"),T()()(),E(22,"div",8)(23,"div",9),O(24,"\u{1F550}"),T(),E(25,"div",10)(26,"div",11),O(27,"Hora"),T(),E(28,"div",12),O(29,"4:00 PM"),T()()(),E(30,"div",8)(31,"div",9),O(32,"\u{1F4CD}"),T(),E(33,"div",10)(34,"div",11),O(35,"Lugar"),T(),E(36,"div",12),O(37,"Carrera 93 #73A - 89 apto 201"),T()()(),E(38,"div",8)(39,"div",9),O(40,"\u{1F381}"),T(),E(41,"div",10)(42,"div",11),O(43,"C\xF3digo de vestimenta"),T(),E(44,"div",12),O(45,"Como quieran :v"),T()()()(),E(46,"div",13)(47,"p"),O(48," Cualquier detalle (opcional) ser\xE1 bien recibido. Ver lista de regalos m\xE1s abajo :v "),T()(),E(49,"button",14),pe("click",function(){return o.goToGiftList()}),O(50," Ver Lista de Regalos "),T()()())},dependencies:[hn],styles:['.welcome-container[_ngcontent-%COMP%]{min-height:100vh;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;padding:2rem;position:relative;overflow:hidden}.welcome-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 30% 40%,rgba(255,255,255,.04) 0%,transparent 50%),radial-gradient(circle at 70% 70%,rgba(255,255,255,.03) 0%,transparent 50%),radial-gradient(circle at 50% 90%,rgba(255,255,255,.035) 0%,transparent 50%);animation:_ngcontent-%COMP%_moveWelcomeBackground 25s ease-in-out infinite;z-index:0}@keyframes _ngcontent-%COMP%_moveWelcomeBackground{0%,to{transform:translate(0) scale(1)}33%{transform:translate(-8%,5%) scale(1.05)}66%{transform:translate(8%,-8%) scale(.95)}}.party-lights[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#ff006e,#8338ec,#3a86ff,#06ffa5,#ffbe0b,#ff006e);animation:_ngcontent-%COMP%_slide 3s linear infinite;opacity:.6}@keyframes _ngcontent-%COMP%_slide{0%{transform:translate(0)}to{transform:translate(-100%)}}.content[_ngcontent-%COMP%]{max-width:800px;text-align:center;z-index:1}.title[_ngcontent-%COMP%]{font-size:clamp(3rem,8vw,6rem);font-weight:900;margin-bottom:1rem;letter-spacing:-.03em;background:linear-gradient(135deg,#fff,#aaa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.subtitle[_ngcontent-%COMP%]{font-size:clamp(1.5rem,4vw,2.5rem);font-weight:700;margin-bottom:3rem;color:#fff}.intro-text[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,1.25rem);line-height:1.8;color:#ccc;margin-bottom:3rem}.intro-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.intro-text[_ngcontent-%COMP%]   .thanks[_ngcontent-%COMP%]{font-weight:600;color:#fff;margin-top:2rem}.cta-button[_ngcontent-%COMP%]{background:#fff;color:#000;border:none;padding:1.25rem 3rem;font-size:1.25rem;font-weight:700;border-radius:50px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.05em}.cta-button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 30px #ffffff4d}.cta-button[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out forwards;opacity:0}.fade-in-delay-1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out .3s forwards;opacity:0}.fade-in-delay-2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out .6s forwards;opacity:0}.fade-in-delay-3[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out .9s forwards;opacity:0}.fade-in-delay-4[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out 1.2s forwards;opacity:0}.fade-in-delay-5[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out 1.5s forwards;opacity:0}.event-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin:3rem 0;padding:2rem;background:#ffffff08;border:1px solid rgba(255,255,255,.1);border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;text-align:left}.detail-icon[_ngcontent-%COMP%]{font-size:2rem;flex-shrink:0}.detail-content[_ngcontent-%COMP%]{flex:1}.detail-label[_ngcontent-%COMP%]{font-size:.85rem;color:#aaa;text-transform:uppercase;letter-spacing:.05em;margin-bottom:.25rem}.detail-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#fff}.gift-message[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,1.15rem);line-height:1.6;color:#bbb;margin:2rem 0;padding:1.5rem;background:#ffffff05;border-left:3px solid #fff;border-radius:8px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.welcome-container[_ngcontent-%COMP%]{padding:1.5rem}.intro-text[_ngcontent-%COMP%]{font-size:1rem}.event-details[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:1.5rem;gap:1rem}.detail-item[_ngcontent-%COMP%]{flex-direction:row}.cta-button[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1rem}}']});let t=e;return t})();X();var Ny=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);var $o=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Ec=class extends $o{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Uo=class extends $o{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Bo=class extends $o{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Tf=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(Tf||{});var Ho=class{constructor(e,{headers:n={},customFetch:r,region:i=Tf.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Ny(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return w(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,p={},{region:f}=r;f||(f=this.region);let g=new URL(`${this.url}/${n}`);f&&f!=="any"&&(p["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(p["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(p["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;let v=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(v=s.signal,u.addEventListener("abort",()=>s.abort())):v=s.signal);let y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:m,signal:v}).catch(q=>{throw new Ec(q)}),U=y.headers.get("x-relay-error");if(U&&U==="true")throw new Uo(y);if(!y.ok)throw new Bo(y);let D=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return D==="application/json"?C=yield y.json():D==="application/octet-stream"||D==="application/pdf"?C=yield y.blob():D==="text/event-stream"?C=y:D==="multipart/form-data"?C=yield y.formData():C=yield y.text(),{data:C,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Bo||a instanceof Uo?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var zf=gw(By(),1),{PostgrestClient:Hy,PostgrestQueryBuilder:oH,PostgrestFilterBuilder:sH,PostgrestTransformBuilder:aH,PostgrestBuilder:cH,PostgrestError:US}=zf.default||zf;var Gf=class{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},qf=Gf;var zy="2.86.0";var Gy=`realtime-js/${zy}`,Wf="1.0.0",qy="2.0.0",Kf=Wf;var Go=1e4,Wy=1e3,Ky=100,Jn=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(Jn||{}),ue=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(ue||{}),rt=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(rt||{}),Zf=function(t){return t.websocket="websocket",t}(Zf||{}),Qn=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(Qn||{});var Cc=class{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;let i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;let i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,o;let s=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",l=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+p),g=new DataView(f),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,a.length),g.setUint8(m++,s.length),g.setUint8(m++,l.length),g.setUint8(m++,d.length),g.setUint8(m++,n),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(d,y=>g.setUint8(m++,y.charCodeAt(0)));var v=new Uint8Array(f.byteLength+r.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(r),f.byteLength),v.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){let r=JSON.parse(e),[i,o,s,a,c]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:c})}return n({})}_binaryDecode(e){let n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(e.slice(c,c+i));c=c+i;let u=r.decode(e.slice(c,c+o));c=c+o;let d=r.decode(e.slice(c,c+s));c=c+s;let p=e.slice(c,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,g={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}};var oi=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Q=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(Q||{}),Jf=(t,e,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,s)=>(o[s]=BS(s,t,e,i),o),{}):{}},BS=(t,e,n,r)=>{let i=e.find(a=>a.name===t),o=i?.type,s=n[t];return o&&!r.includes(o)?Zy(o,s):Yf(s)},Zy=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return qS(e,n)}switch(t){case Q.bool:return HS(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return zS(e);case Q.json:case Q.jsonb:return GS(e);case Q.timestamp:return WS(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Yf(e);default:return Yf(e)}},Yf=t=>t,HS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zS=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},GS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qS=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Zy(e,a))}return t},WS=t=>typeof t=="string"?t.replace(" ","T"):t,Ic=t=>{let e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var si=class{constructor(e,n,r={},i=Go){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var qo=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){let o=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let p=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),g=u.filter(v=>f.indexOf(v.presence_ref)<0),m=d.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(e,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,i(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Wo=function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t}(Wo||{}),Gt=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(Gt||{});var Ko=class t{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new si(this,rt.join,this.params,this.timeout),this.rejoinTimer=new oi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new qo(this),this.broadcastEndpointURL=Ic(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Wo.PRESENCE]&&this.bindings[Wo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Gt.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Gt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>h(this,[g],function*({postgres_changes:f}){var m;if(this.socket.setAuth(),f===void 0){e?.(Gt.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,y=(m=v?.length)!==null&&m!==void 0?m:0,U=[];for(let D=0;D<y;D++){let C=v[D],{filter:{event:q,schema:mt,table:Y,filter:oe}}=C,Zt=f&&f[D];if(Zt&&Zt.event===q&&Zt.schema===mt&&Zt.table===Y&&Zt.filter===oe)U.push(Object.assign(Object.assign({},C),{id:Zt.id}));else{this.unsubscribe(),this.state=ue.errored,e?.(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,e&&e(Gt.SUBSCRIBED);return}})).receive("error",f=>{this.state=ue.errored,e?.(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this.state===ue.joined&&e===Wo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}httpSend(i,o){return h(this,arguments,function*(e,n,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{let d=yield l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return h(this,arguments,function*(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new si(this,rt.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}_fetchWithTimeout(e,n,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new si(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ky){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=rt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,m,v;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=f.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,m,v,y,U,D;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let C=f.id,q=(g=f.filter)===null||g===void 0?void 0:g.event;return C&&((m=n.ids)===null||m===void 0?void 0:m.includes(C))&&(q==="*"||q?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let C=(U=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return C==="*"||C===((D=n?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:v,commit_timestamp:y,type:U,errors:D}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:U,new:{},old:{},errors:D}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Jf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Jf(e.columns,e.old_record)),n}};var Qf=()=>{},Sc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZS=[1e3,2e3,5e3,1e4],YS=1e4,JS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Zo=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Go,this.transport=null,this.heartbeatIntervalMs=Sc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qf,this.ref=0,this.reconnectTimer=null,this.vsn=Kf,this.logger=Qf,this.conn=null,this.sendBuffer=[],this.serializer=new Cc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Zf.websocket}`,this.httpEndpoint=Ic(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qf.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return h(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jn.connecting:return Qn.Connecting;case Jn.open:return Qn.Open;case Jn.closing:return Qn.Closing;default:return Qn.Closed}}isConnected(){return this.connectionState()===Qn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ko(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){let{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return h(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return h(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Wy,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Sc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Jn.open||this.conn.readyState===Jn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([JS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(e=null){return h(this,null,function*(){let n;e?n=e:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let i={access_token:n,version:Gy};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(rt.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new oi(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Sc.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,s,a,c,l,u,d,p,f;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Go,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Sc.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Qf,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:Kf,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:g=>ZS[g-1]||YS,this.vsn){case Wf:this.encode=(u=e?.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:(g,m)=>m(JSON.parse(g));break;case qy:this.encode=(p=e?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};X();var mn=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function K(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Tc=class extends mn{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xn=class extends mn{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};X();var ai=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Yy=()=>Response,Mc=t=>{if(Array.isArray(t))return t.map(n=>Mc(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Mc(r)}),e},Jy=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Qy=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);var Xf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},QS=(t,e,n)=>w(void 0,void 0,void 0,function*(){let r=yield Yy();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{let o=t.status||500,s=i?.statusCode||o+"";e(new Tc(Xf(i),o,s))}).catch(i=>{e(new Xn(Xf(i),i))}):e(new Xn(Xf(t),t))}),XS=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(Jy(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Yo(t,e,n,r,i,o){return w(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,XS(e,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>QS(c,a,r))})})}function vn(t,e,n,r){return w(this,void 0,void 0,function*(){return Yo(t,"GET",e,n,r)})}function je(t,e,n,r,i){return w(this,void 0,void 0,function*(){return Yo(t,"POST",e,r,i,n)})}function Jo(t,e,n,r,i){return w(this,void 0,void 0,function*(){return Yo(t,"PUT",e,r,i,n)})}function Xy(t,e,n,r){return w(this,void 0,void 0,function*(){return Yo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ci(t,e,n,r,i){return w(this,void 0,void 0,function*(){return Yo(t,"DELETE",e,r,i,n)})}X();X();var xc=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return w(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(K(e))return{data:null,error:e};throw e}})}};var e_,eh=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[e_]="BlobDownloadBuilder",this.promise=null}asStream(){return new xc(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return w(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(K(e))return{data:null,error:e};throw e}})}};e_=Symbol.toStringTag;var t_=eh;var eT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},n_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ac=class{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=ai(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return w(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},n_),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield(e=="PUT"?Jo:je)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(K(o))return{data:null,error:o};throw o}})}upload(e,n,r){return w(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return w(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:n_.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield Jo(this.fetch,a.toString(),c,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(K(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return w(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");let o=yield je(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new mn("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}update(e,n,r){return w(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return w(this,void 0,void 0,function*(){try{return{data:yield je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(K(i))return{data:null,error:i};throw i}})}copy(e,n,r){return w(this,void 0,void 0,function*(){try{return{data:{path:(yield je(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(K(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return w(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield je(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(K(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return w(this,void 0,void 0,function*(){try{let i=yield je(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(K(i))return{data:null,error:i};throw i}})}download(e,n){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(e),c=()=>vn(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new t_(c,this.shouldThrowOnError)}info(e){return w(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{let r=yield vn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Mc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}exists(e){return w(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{return yield Xy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r)&&r instanceof Xn){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){let r=this._getFinalPath(e),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return w(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}list(e,n,r){return w(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},eT),n),{prefix:e||""});return{data:yield je(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(K(i))return{data:null,error:i};throw i}})}listV2(e,n){return w(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield je(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};X();var Rc="2.86.0";var Oc={"X-Client-Info":`storage-js/${Rc}`};var Nc=class{constructor(e,n={},r,i){this.shouldThrowOnError=!1;let o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oc),n),this.fetch=ai(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return w(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(e);return{data:yield vn(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}getBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}createBucket(e){return w(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield je(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(K(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return w(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}emptyBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield je(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}deleteBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}};X();var Qo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tT(t,e,n){let r=new URL(e,t);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function nT(t){return h(this,null,function*(){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?yield t.getHeaders():{}})}function rT(t){let e=t.fetchImpl??globalThis.fetch;return{request(c){return h(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let l=tT(t.baseUrl,i,o),u=yield nT(t.auth),d=yield e(l,{method:r,headers:b(b(b({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),p=yield d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),g=f&&p?JSON.parse(p):p;if(!d.ok){let m=f?g:void 0,v=m?.error;throw new Qo(v?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:v?.type,icebergCode:v?.code,details:m})}return{status:d.status,headers:d.headers,data:g}})}}}function kc(t){return t.join("")}var iT=class{constructor(t,e=""){this.client=t,this.prefix=e}listNamespaces(t){return h(this,null,function*(){let e=t?{parent:kc(t.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(t,e){return h(this,null,function*(){let n={namespace:t.namespace,properties:e?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(t){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kc(t.namespace)}`})})}loadNamespaceMetadata(t){return h(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kc(t.namespace)}`})).data.properties}})}namespaceExists(t){return h(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kc(t.namespace)}`}),!0}catch(e){if(e instanceof Qo&&e.status===404)return!1;throw e}})}createNamespaceIfNotExists(t,e){return h(this,null,function*(){try{return yield this.createNamespace(t,e)}catch(n){if(n instanceof Qo&&n.status===409)return;throw n}})}};function li(t){return t.join("")}var oT=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}listTables(t){return h(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${li(t.namespace)}/tables`})).data.identifiers})}createTable(t,e){return h(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${li(t.namespace)}/tables`,body:e,headers:n})).data.metadata})}updateTable(t,e){return h(this,null,function*(){let n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${li(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(t,e){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${li(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})})}loadTable(t){return h(this,null,function*(){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${li(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata})}tableExists(t){return h(this,null,function*(){let e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${li(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Qo&&n.status===404)return!1;throw n}})}createTableIfNotExists(t,e){return h(this,null,function*(){try{return yield this.createTable(t,e)}catch(n){if(n instanceof Qo&&n.status===409)return yield this.loadTable({namespace:t.namespace,name:e.name});throw n}})}},r_=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);let n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=rT({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new iT(this.client,e),this.tableOps=new oT(this.client,e,this.accessDelegation)}listNamespaces(t){return h(this,null,function*(){return this.namespaceOps.listNamespaces(t)})}createNamespace(t,e){return h(this,null,function*(){return this.namespaceOps.createNamespace(t,e)})}dropNamespace(t){return h(this,null,function*(){yield this.namespaceOps.dropNamespace(t)})}loadNamespaceMetadata(t){return h(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(t)})}listTables(t){return h(this,null,function*(){return this.tableOps.listTables(t)})}createTable(t,e){return h(this,null,function*(){return this.tableOps.createTable(t,e)})}updateTable(t,e){return h(this,null,function*(){return this.tableOps.updateTable(t,e)})}dropTable(t,e){return h(this,null,function*(){yield this.tableOps.dropTable(t,e)})}loadTable(t){return h(this,null,function*(){return this.tableOps.loadTable(t)})}namespaceExists(t){return h(this,null,function*(){return this.namespaceOps.namespaceExists(t)})}tableExists(t){return h(this,null,function*(){return this.tableOps.tableExists(t)})}createNamespaceIfNotExists(t,e){return h(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(t,e)})}createTableIfNotExists(t,e){return h(this,null,function*(){return this.tableOps.createTableIfNotExists(t,e)})}};var Pc=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oc),n),this.fetch=ai(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield je(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}listBuckets(e){return w(this,void 0,void 0,function*(){try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield vn(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}deleteBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}from(e){if(!Qy(e))throw new mn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new r_({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>w(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}};X();X();var ui={"X-Client-Info":`storage-js/${Rc}`,"Content-Type":"application/json"};var Fc=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Te(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var di=class extends Fc{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Lc=class extends Fc{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}};X();var fi=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);var i_=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var o_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sT=(t,e,n)=>w(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){let i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";e(new di(o_(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;e(new di(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;e(new di(a,i,s))}}else e(new Lc(o_(t),t))}),aT=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(i_(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function cT(t,e,n,r,i,o){return w(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,aT(e,r,i,o)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>sT(c,a,r))})})}function Me(t,e,n,r,i){return w(this,void 0,void 0,function*(){return cT(t,"POST",e,r,i,n)})}var jc=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ui),n),this.fetch=fi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return w(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}getIndex(e,n){return w(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}listIndexes(e){return w(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return w(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}};X();var Vc=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ui),n),this.fetch=fi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return w(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Me(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}getVectors(e){return w(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}listVectors(e){return w(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Me(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}queryVectors(e){return w(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}deleteVectors(e){return w(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Me(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}};X();var $c=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ui),n),this.fetch=fi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return w(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}getBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}listBuckets(){return w(this,arguments,void 0,function*(e={}){try{return{data:yield Me(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}deleteBucket(e){return w(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}};var Xo=class extends $c{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Uc(this.url,this.headers,e,this.fetch)}createBucket(e){let n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return w(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){let n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return w(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){let e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return w(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){let n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return w(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}},Uc=class extends jc{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return w(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return w(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return w(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return w(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Bc(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Bc=class extends Vc{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return w(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return w(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return w(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return w(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return w(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var es=class extends Nc{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Ac(this.url,this.headers,e,this.fetch)}get vectors(){return new Xo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Pc(this.url+"/iceberg",this.headers,this.fetch)}};var s_="2.86.0";var ts="";typeof Deno<"u"?ts="deno":typeof document<"u"?ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ts="react-native":ts="node";var lT={"X-Client-Info":`supabase-js-${ts}/${s_}`},a_={headers:lT},c_={schema:"public"},l_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u_={};var uT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dT=()=>Headers,d_=(t,e,n)=>{let r=uT(n),i=dT();return(o,s)=>h(null,null,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:t,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:l}))})};function fT(t){return t.endsWith("/")?t:t+"/"}function f_(t,e){var n,r;let{db:i,auth:o,realtime:s,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,p={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>h(null,null,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function h_(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}X();X();var Hc="2.86.0";var er=30*1e3,zc=3,Gc=zc*er,p_="http://localhost:9999",g_="supabase.auth.token";var m_={"X-Client-Info":`gotrue-js/${Hc}`};var ns="X-Supabase-Api-Version",th={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,y_=10*60*1e3;var yn=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var qc=class extends yn{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function __(t){return I(t)&&t.name==="AuthApiError"}var it=class extends yn{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Mt=class extends yn{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}},Ce=class extends Mt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function w_(t){return I(t)&&t.name==="AuthSessionMissingError"}var qt=class extends Mt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},tr=class extends Mt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},nr=class extends Mt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function b_(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}var rs=class extends Mt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},hi=class extends Mt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function Wc(t){return I(t)&&t.name==="AuthRetryableFetchError"}var is=class extends Mt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var rr=class extends Mt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var Kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),E_=` 	
\r=`.split(""),hT=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<E_.length;e+=1)t[E_[e].charCodeAt(0)]=-2;for(let e=0;e<Kc.length;e+=1)t[Kc[e].charCodeAt(0)]=e;return t})();function D_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(Kc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(Kc[r]),e.queuedBits-=6}}function C_(t,e,n){let r=hT[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function nh(t){let e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{mT(s,r,n)};for(let s=0;s<t.length;s+=1)C_(t.charCodeAt(s),i,o);return e.join("")}function pT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gT(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}pT(r,e)}}function mT(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function _n(t){let e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)C_(t.charCodeAt(i),n,r);return new Uint8Array(e)}function I_(t){let e=[];return gT(t,n=>e.push(n)),new Uint8Array(e)}function Wt(t){let e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>D_(i,n,r)),D_(null,n,r),e.join("")}function S_(t){return Math.round(Date.now()/1e3)+t}function T_(){return Symbol("auth-callback")}var de=()=>typeof window<"u"&&typeof document<"u",ir={tested:!1,writable:!1},Zc=()=>{if(!de())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ir.tested)return ir.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ir.tested=!0,ir.writable=!0}catch{ir.tested=!0,ir.writable=!1}return ir.writable};function M_(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}var Yc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),x_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",or=(t,e,n)=>h(null,null,function*(){yield t.setItem(e,JSON.stringify(n))}),wn=(t,e)=>h(null,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Kt=(t,e)=>h(null,null,function*(){yield t.removeItem(e)}),os=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};os.promiseConstructor=Promise;function Jc(t){let e=t.split(".");if(e.length!==3)throw new rr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!v_.test(e[r]))throw new rr("JWT not in base64url format");return{header:JSON.parse(nh(e[0])),payload:JSON.parse(nh(e[1])),signature:_n(e[2]),raw:{header:e[0],payload:e[1]}}}function A_(t){return h(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function R_(t,e){return new Promise((r,i)=>{h(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function vT(t){return("0"+t.toString(16)).substr(-2)}function yT(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,vT).join("")}function _T(t){return h(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function wT(t){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield _T(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function sr(t,e,n=!1){return h(this,null,function*(){let r=yT(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield or(t,`${e}-code-verifier`,i);let o=yield wT(r);return[o,r===o?"plain":"s256"]})}var bT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function O_(t){let e=t.headers.get(ns);if(!e||!e.match(bT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function N_(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function k_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ET=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ar(t){if(!ET.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qc(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P_(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function rh(t){return JSON.parse(JSON.stringify(t))}var cr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DT=[502,503,504];function F_(t){return h(this,null,function*(){var e;if(!x_(t))throw new hi(cr(t),0);if(DT.includes(t.status))throw new hi(cr(t),t.status);let n;try{n=yield t.json()}catch(o){throw new it(cr(o),o)}let r,i=O_(t);if(i&&i.getTime()>=th["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new is(cr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ce}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new is(cr(n),t.status,n.weak_password.reasons);throw new qc(cr(n),t.status||500,r)})}var CT=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function M(t,e,n,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[ns]||(o[ns]=th["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield IT(t,e,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function IT(t,e,n,r,i,o){return h(this,null,function*(){let s=CT(e,r,i,o),a;try{a=yield t(n,Object.assign({},s))}catch(c){throw console.error(c),new hi(cr(c),0)}if(a.ok||(yield F_(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield F_(c)}})}function ot(t){var e;let n=null;ST(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=S_(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ih(t){let e=ot(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function L_(t){return{data:t,error:null}}function j_(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=Nt(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function oh(t){return t}function ST(t){return t.access_token&&t.refresh_token&&t.expires_in}var Xc=["global","local","others"];var pi=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Yc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return h(this,arguments,function*(e,n=Xc[0]){if(Xc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xc.join(", ")}`);try{return yield M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(I(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(e,n={}){try{return yield M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xt})}catch(i){if(I(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return h(this,null,function*(){try{let{options:n}=e,r=Nt(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:j_,redirectTo:n?.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return h(this,null,function*(){try{return yield M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return h(this,null,function*(){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:oh});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(I(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return h(this,null,function*(){ar(e);try{return yield M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return h(this,null,function*(){ar(e);try{return yield M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:xt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return h(this,null,function*(){ar(e);try{return yield M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:xt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return h(this,null,function*(){ar(e.userId);try{let{data:n,error:r}=yield M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return h(this,null,function*(){ar(e.userId),ar(e.id);try{return{data:yield M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}})}_listOAuthClients(e){return h(this,null,function*(){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield M(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:oh});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(I(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(e){return h(this,null,function*(){try{return yield M(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}_getOAuthClient(e){return h(this,null,function*(){try{return yield M(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}_updateOAuthClient(e,n){return h(this,null,function*(){try{return yield M(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return h(this,null,function*(){try{return yield M(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(e){return h(this,null,function*(){try{return yield M(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}};function sh(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}var lr={debug:!!(globalThis&&Zc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ss=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},el=class extends ss{};function ah(t,e,n){return h(this,null,function*(){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(null,null,function*(){if(i){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield n()}finally{lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new el(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(lr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function V_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ch(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function $_(t){return parseInt(t,16)}function U_(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function B_(t){var e;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let f=ch(t.address),g=u?`${u}://${r}`:r,m=t.statement?`${t.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${f}

${m}`,y=`URI: ${d}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),l){let U=`
Resources:`;for(let D of l){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);U+=`
- ${D}`}y+=U}return`${v}
${y}`}X();var ne=class extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},ur=class extends ne{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}};function H_({error:t,options:e}){var n,r,i;let{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(lh(s)){if(o.rp.id!==s)return new ne({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function z_({error:t,options:e}){let{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(lh(r)){if(n.rpId!==r)return new ne({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var uh=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},TT=new uh;function q_(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:e,user:n,excludeCredentials:r}=t,i=Nt(t,["challenge","user","excludeCredentials"]),o=_n(e).buffer,s=Object.assign(Object.assign({},n),{id:_n(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:_n(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function W_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:e,allowCredentials:n}=t,r=Nt(t,["challenge","allowCredentials"]),i=_n(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:_n(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function K_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Wt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Wt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Z_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Wt(new Uint8Array(i.authenticatorData)),clientDataJSON:Wt(new Uint8Array(i.clientDataJSON)),signature:Wt(new Uint8Array(i.signature)),userHandle:i.userHandle?Wt(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lh(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function G_(){var t,e;return!!(de()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function MT(t){return h(this,null,function*(){try{let e=yield navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ur("Browser returned unexpected credential type",e)}:{data:null,error:new ur("Empty credential response",e)}}catch(e){return{data:null,error:H_({error:e,options:t})}}})}function xT(t){return h(this,null,function*(){try{let e=yield navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ur("Browser returned unexpected credential type",e)}:{data:null,error:new ur("Empty credential response",e)}}catch(e){return{data:null,error:z_({error:e,options:t})}}})}var AT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},RT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tl(...t){let e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of t)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(e(s)){let a=r[o];e(a)?r[o]=tl(a,s):r[o]=tl(s)}else r[o]=s}return r}function OT(t,e){return tl(AT,t,e||{})}function NT(t,e){return tl(RT,t,e||{})}var nl=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return h(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(s,a){return h(this,arguments,function*({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:l};let u=i??TT.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{let d=OT(c.webauthn.credential_options.publicKey,o?.create),{data:p,error:f}=yield MT({publicKey:d,signal:u});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}case"request":{let d=NT(c.webauthn.credential_options.publicKey,o?.request),{data:p,error:f}=yield xT(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}}}catch(c){return I(c)?{data:null,error:c}:{data:null,error:new it("Unexpected error in challenge",c)}}})}_verify(i){return h(this,arguments,function*({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})})}_authenticate(s,a){return h(this,arguments,function*({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new yn("rpId is required for WebAuthn authentication")};try{if(!G_())return{data:null,error:new it("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!c)return{data:null,error:l};let{webauthn:u}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return I(c)?{data:null,error:c}:{data:null,error:new it("Unexpected error in authenticate",c)}}})}_register(s,a){return h(this,arguments,function*({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new yn("rpId is required for WebAuthn registration")};try{if(!G_())return{data:null,error:new it("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:e});if(!c)return yield this.client.mfa.listFactors().then(p=>{var f;return(f=p.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:u,error:d}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(c){return I(c)?{data:null,error:c}:{data:null,error:new it("Unexpected error in register",c)}}})}};V_();var kT={url:p_,storageKey:g_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:m_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function Y_(t,e,n){return h(this,null,function*(){return yield n()})}var gi={},PT=(()=>{class t{get jwks(){var n,r;return(r=(n=gi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=gi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},kT),n);if(this.storageKey=s.storageKey,this.instanceID=(r=t.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,t.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&de()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new pi({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Yc(s.fetch),this.lock=s.lock||Y_,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:de()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=ah:this.lock=Y_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nl(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Zc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=sh(this.memoryStorage)),de()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hc}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r={},i="none";if(de()&&(r=M_(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),de()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),b_(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new it("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,i,o;try{let s=yield M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ot}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(n){return h(this,null,function*(){var r,i,o;try{let s;if("email"in n){let{email:d,password:p,options:f}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield sr(this.storage,this.storageKey)),s=yield M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:ot})}else if("phone"in n){let{phone:d,password:p,options:f}=n;s=yield M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ot})}else throw new tr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ih})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ih})}else throw new tr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new qt;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return h(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return h(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,f;let g,m;if("message"in n)g=n.message,m=n.signature;else{let{chain:v,wallet:y,statement:U,options:D}=n,C;if(de())if(typeof y=="object")C=y;else{let At=window;if("ethereum"in At&&typeof At.ethereum=="object"&&"request"in At.ethereum&&typeof At.ethereum.request=="function")C=At.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=y}let q=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href),mt=yield C.request({method:"eth_requestAccounts"}).then(At=>At).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!mt||mt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let Y=ch(mt[0]),oe=(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!oe){let At=yield C.request({method:"eth_chainId"});oe=$_(At)}let Zt={domain:q.host,address:Y,statement:U,uri:q.href,version:"1",chainId:oe,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=D?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=B_(Zt),m=yield C.request({method:"personal_sign",params:[U_(g),Y]})}try{let{data:v,error:y}=yield M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ot});if(y)throw y;if(!v||!v.session||!v.user){let U=new qt;return this._returnResult({data:{user:null,session:null},error:U})}return v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(I(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}})}signInWithSolana(n){return h(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,f,g;let m,v;if("message"in n)m=n.message,v=n.signature;else{let{chain:y,wallet:U,statement:D,options:C}=n,q;if(de())if(typeof U=="object")q=U;else{let Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))q=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=U}let mt=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){let Y=yield q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:mt.host,uri:mt.href}),D?{statement:D}:null)),oe;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")oe=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)oe=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)m=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),v=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${mt.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${mt.href}`,`Issued At: ${(o=(i=C?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=C?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((a=C?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(d=C?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);let Y=yield q.signMessage(new TextEncoder().encode(m),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=Y}}try{let{data:y,error:U}=yield M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Wt(v)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ot});if(U)throw U;if(!y||!y.session||!y.user){let D=new qt;return this._returnResult({data:{user:null,session:null},error:D})}return y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:U})}catch(y){if(I(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield wn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:ot});if(yield Kt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new qt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=yield M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ot}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new qt;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield sr(this.storage,this.storageKey));let{error:p}=yield M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new tr("You must provide either an email or phone number.")}catch(c){if(I(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}verifyOtp(n){return h(this,null,function*(){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:ot});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(n){return h(this,null,function*(){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=yield sr(this.storage,this.storageKey));let u=yield M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:L_});return!((s=u.data)===null||s===void 0)&&s.url&&de()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(I(c))return this._returnResult({data:null,error:c});throw c}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Ce;let{error:o}=yield M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield M(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=yield M(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new tr("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<Gc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=yield wn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Qc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=P_(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return h(this,null,function*(){try{return n?yield M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:xt}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ce}:yield M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:xt})}))}catch(r){if(I(r))return w_(r)&&(yield this._removeSession(),yield Kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Ce;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield sr(this.storage,this.storageKey));let{data:d,error:p}=yield M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:xt});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})}))}catch(o){if(I(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new Ce;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Jc(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new Ce;let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!de())throw new nr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new nr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new rs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new rs("No code detected.");let{data:D,error:C}=yield this._exchangeCodeForSession(n.code);if(C)throw C;let q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:D.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new nr("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let g=f-d;g*1e3<=er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=f-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:v,error:y}=yield this._getUser(s);if(y)throw y;let U={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:n.type},error:null})}catch(i){if(I(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield wn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(__(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(yield this._removeSession(),yield Kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){let r=T_(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(n,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield sr(this.storage,this.storageKey,!0));try{return yield M(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(I(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(n){return h(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield M(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return de()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(I(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}})}linkIdentityIdToken(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=n,p=yield M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ot}),{data:f,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new qt}):(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(o){if(I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield M(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield R_(o=>h(this,null,function*(){return o>0&&(yield A_(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ot})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Wc(s)&&Date.now()+a-i<er})}catch(i){if(this._debug(r,"error",i),I(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),de()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield wn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield or(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:Qc()}else if(o&&!o.user&&!o.user){let a=yield wn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Kt(this.storage,this.storageKey+"-user"),yield or(this.storage,this.storageKey,o)):o.user=Qc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Gc;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Gc}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Wc(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,i;if(!n)throw new Ce;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new os;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Ce;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),I(s)){let a={data:null,error:s};return Wc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield or(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=rh(o);yield or(this.storage,this.storageKey,s)}else{let o=rh(r);yield or(this.storage,this.storageKey,o)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield Kt(this.storage,this.storageKey),yield Kt(this.storage,this.storageKey+"-code-verifier"),yield Kt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Kt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&de()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),er);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${er}ms, refresh threshold is ${zc} ticks`),o<=zc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof ss)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!de()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield sr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield M(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:u}=yield M(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?K_(n.webauthn.credential_response):Z_(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=yield M(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))}))}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield M(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:q_(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:W_(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){var n;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){var n,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Jc(i.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield M(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ce})}))}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ce});let a=yield M(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&de()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ce});let a=yield M(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&de()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?yield M(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ce})}))}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield M(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ce})}))}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return h(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(l=>l.kid===n);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(l=>l.kid===n),o&&this.jwks_cached_at+y_>s)return o;let{data:a,error:c}=yield M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(l=>l.kid===n),!o)?null:o})}getClaims(i){return h(this,arguments,function*(n,r={}){try{let o=n;if(!o){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});o=m.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Jc(o);r?.allowExpired||N_(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:m}=yield this.getUser(o);if(m)throw m;return{data:{claims:a,header:s,signature:c},error:null}}let p=k_(s.alg),f=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,f,c,I_(`${l}.${u}`))))throw new rr("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(o){if(I(o))return this._returnResult({data:null,error:o});throw o}})}}return t.nextInstanceID={},t})(),dh=PT;var FT=dh,fh=FT;var rl=class extends fh{constructor(e){super(e)}};var il=class{constructor(e,n,r){var i,o,s;this.supabaseUrl=e,this.supabaseKey=n;let a=h_(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:c_,realtime:u_,auth:Object.assign(Object.assign({},l_),{storageKey:c}),global:a_},u=f_(r??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=d_(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Hy(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new es(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ho(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return h(this,null,function*(){var e,n;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:c,debug:l,throwOnError:u},d,p){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rl({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:c,debug:l,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Zo(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var J_=(t,e,n)=>new il(t,e,n);function LT(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}LT()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var hh={production:!1,supabaseUrl:"https://hkqdhvugfxkrxuxybtqs.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhrcWRodnVnZnhrcnh1eHlidHFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MzYyNDIsImV4cCI6MjA4MDAxMjI0Mn0.uwre3NFy6S-2_EA5ZMqhqDy2F_f1_sVfTW0wTvC7uY8"};var ol=(()=>{let e=class e{constructor(){this.itemsSubject=new ae([]),this.items$=this.itemsSubject.asObservable(),this.realtimeChannel=null,this.items=[{id:1,name:"Vasos",asset:"assets/vasos.webp"},{id:2,name:"Saca corchos",asset:"assets/saca_corchos.webp"},{id:3,name:"Cuchillos",asset:"assets/cuchillos.webp"},{id:4,name:"Destapador",asset:"assets/destapador.webp"},{id:5,name:"Sart\xE9n peque\xF1o",asset:"assets/sarten_pequeno.webp"},{id:6,name:"Pinzas de cocina",asset:"assets/pinzas_cocina.webp"},{id:7,name:"Aceitero",asset:"assets/aceitero.webp"},{id:8,name:"Escurridor de loza",asset:"assets/escurridor_loza.webp"},{id:9,name:"Vajilla (2 personas)",asset:"assets/vajilla_2_personas.webp"},{id:10,name:"Rallador",asset:"assets/rallador.webp"},{id:11,name:"Afilador de cuchillos",asset:"assets/afilador_cuchillos.webp"},{id:12,name:"Cubiertos",asset:"assets/cubiertos.webp"},{id:13,name:"Condimenteros",asset:"assets/condimenteros.webp"},{id:14,name:"Olleta peque\xF1a",asset:"assets/olleta_pequena.webp"},{id:15,name:"Pimentero",asset:"assets/pimentero.webp"},{id:16,name:"Bandejas",asset:"assets/bandejas.webp"},{id:17,name:"Copas shotseras",asset:"assets/copas_shotseras.webp"},{id:18,name:"Licuadora vaso de vidrio (2 a 3 personas)",asset:"assets/licuadora_vidrio.webp"},{id:19,name:"Salero",asset:"assets/salero.webp"},{id:20,name:"Servilletero",asset:"assets/servilletero.webp"},{id:21,name:"Olleta grande",asset:"assets/olleta_grande.webp"},{id:22,name:"Juego de utensilios de cocina",asset:"assets/juego_utensilios_cocina.webp"},{id:23,name:"Cesto para la basura",asset:"assets/cesto_basura.webp"},{id:24,name:"Juego de s\xE1banas cama queen",asset:"assets/juego_sabanas_cama_queen.webp"},{id:25,name:"Olla grande",asset:"assets/olla_grande.webp"},{id:26,name:"Pelador",asset:"assets/pelador.webp"},{id:27,name:"Caneca para ba\xF1o",asset:"assets/caneca_bano.webp"},{id:28,name:"Colador peque\xF1o",asset:"assets/colador_pequeno.webp"},{id:29,name:"Olleta mediana",asset:"assets/olleta_mediana.webp"},{id:30,name:"Individuales",asset:"assets/individuales.webp"},{id:31,name:"Cobija cama queen",asset:"assets/cobija_cama_queen.webp"},{id:32,name:"Exprimidor el\xE9ctrico",asset:"assets/exprimidor_electrico.webp"},{id:33,name:"Olla mediana",asset:"assets/olla_mediana.webp"},{id:34,name:"Colador grande",asset:"assets/colador_grande.webp"},{id:35,name:"Exprimidor de limones",asset:"assets/exprimidor_limon.webp"},{id:36,name:"Sart\xE9n grande",asset:"assets/sarten_grande.webp"},{id:37,name:"Tabla para picar",asset:"assets/tabla_picar.webp"},{id:38,name:"Posa vasos",asset:"assets/posa_vasos.webp"},{id:39,name:"Limpiones grandes y peque\xF1os",asset:"assets/limpiones_grandes_pequenos.webp"},{id:40,name:"Sanduchera",asset:"assets/sanduchera.webp"},{id:41,name:"Olla peque\xF1a",asset:"assets/olla_pequena.webp"},{id:42,name:"Jarra",asset:"assets/jarra.webp"},{id:43,name:"Tazas",asset:"assets/tazas.webp"},{id:44,name:"Sart\xE9n mediano",asset:"assets/sarten_mediano.webp"},{id:45,name:"Paleta de madera",asset:"assets/paleta_madera.webp"},{id:46,name:"Bowls",asset:"assets/bowls.webp"},{id:47,name:"Organizadores de mercado",asset:"assets/organizadores_mercado.webp"},{id:48,name:"Refractarias de vidrio",asset:"assets/refractarias_vidrio.webp"}],this.supabase=J_(hh.supabaseUrl,hh.supabaseKey),this.loadItems(),this.subscribeToChanges()}loadItems(){return h(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("gift_items").select("*").order("sort_order",{ascending:!0});if(i){console.error("Error loading items:",i);return}r.forEach(o=>{let s=this.items.find(a=>a.name===o.name);s?o.image_url=s.asset:o.image_url=null}),this.itemsSubject.next(r)})}subscribeToChanges(){this.realtimeChannel=this.supabase.channel("gift_items_changes").on("postgres_changes",{event:"*",schema:"public",table:"gift_items"},()=>{this.loadItems()}).subscribe()}reserveItem(r){return h(this,null,function*(){let{data:i,error:o}=yield this.supabase.from("gift_items").select("is_reserved").eq("id",r).maybeSingle();if(o)return console.error("Error fetching item:",o),{success:!1,alreadyReserved:!1};if(i?.is_reserved)return{success:!1,alreadyReserved:!0};let{error:s}=yield this.supabase.from("gift_items").update({is_reserved:!0,reserved_at:new Date().toISOString()}).eq("id",r).eq("is_reserved",!1);return s?(console.error("Error reserving item:",s),{success:!1,alreadyReserved:!0}):(yield this.loadItems(),{success:!0,alreadyReserved:!1})})}toggleItemReservation(r,i){return h(this,null,function*(){let o={is_reserved:i};i?o.reserved_at=new Date().toISOString():o.reserved_at=null;let{error:s}=yield this.supabase.from("gift_items").update(o).eq("id",r);return s?(console.error("Error toggling item reservation:",s),!1):(yield this.loadItems(),!0)})}ngOnDestroy(){this.realtimeChannel&&this.supabase.removeChannel(this.realtimeChannel)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jT(t,e){t&1&&(E(0,"span"),O(1,"Reservar"),T())}function VT(t,e){t&1&&(E(0,"span"),O(1,"Reservando..."),T())}function $T(t,e){if(t&1){let n=Gn();E(0,"button",18),pe("click",function(){Xe(n);let i=De().$implicit,o=De();return et(o.reserveItem(i))}),pt(1,jT,2,0,"span",19)(2,VT,2,0,"span",19),T()}if(t&2){let n=De().$implicit,r=De();Ee("disabled",r.reservingItemId===n.id),J(),Ee("ngIf",r.reservingItemId!==n.id),J(),Ee("ngIf",r.reservingItemId===n.id)}}function UT(t,e){t&1&&(E(0,"div",20),O(1," Reservado "),T())}function BT(t,e){if(t&1&&(E(0,"div",11)(1,"div",12),Ae(2,"img",13),T(),E(3,"div",14)(4,"h3",15),O(5),T(),pt(6,$T,3,3,"button",16)(7,UT,2,0,"div",17),T()()),t&2){let n=e.$implicit,r=De();tt("reserved",n.is_reserved)("reserving",r.reservingItemId===n.id),J(2),Ee("src",Ad(n.image_url),sd),J(3),dn(n.name),J(),Ee("ngIf",!n.is_reserved),J(),Ee("ngIf",n.is_reserved)}}function HT(t,e){if(t&1){let n=Gn();E(0,"div",21),pe("click",function(){Xe(n);let i=De();return et(i.closeModal())}),E(1,"div",22),pe("click",function(i){return Xe(n),et(i.stopPropagation())}),E(2,"div",23),Nr(),E(3,"svg",24),Ae(4,"path",25),T()(),kr(),E(5,"p",26),O(6),T(),E(7,"button",27),pe("click",function(){Xe(n);let i=De();return et(i.closeModal())}),O(8,"Entendido"),T()()()}if(t&2){let n=De();J(6),dn(n.modalMessage)}}var X_=(()=>{let e=class e{constructor(r){this.supabaseService=r,this.showModal=!1,this.modalMessage="",this.reservingItemId=null,this.filterType="all"}ngOnInit(){this.applyFilter()}setFilter(r){this.filterType=r,this.applyFilter()}applyFilter(){this.items$=this.supabaseService.items$.pipe(V(r=>this.filterType==="available"?r.filter(i=>!i.is_reserved):this.filterType==="reserved"?r.filter(i=>i.is_reserved):r)),console.log(this.items$)}reserveItem(r){return h(this,null,function*(){if(r.is_reserved){this.showAlreadyReservedModal();return}this.reservingItemId=r.id;let i=yield this.supabaseService.reserveItem(r.id);this.reservingItemId=null,i.success?this.showSuccessModal(r.name):i.alreadyReserved&&this.showAlreadyReservedModal()})}showSuccessModal(r){this.modalMessage=`${r} ha sido reservado exitosamente`,this.showModal=!0}showAlreadyReservedModal(){this.modalMessage="Este art\xEDculo ya ha sido reservado por alguien m\xE1s",this.showModal=!0}closeModal(){this.showModal=!1,this.modalMessage=""}};e.\u0275fac=function(i){return new(i||e)(be(ol))},e.\u0275cmp=ht({type:e,selectors:[["app-gift-list"]],decls:25,vars:10,consts:[[1,"gift-list-container"],[1,"animated-background"],[1,"header"],[1,"title"],[1,"instructions"],[1,"highlight"],[1,"filter-container"],[1,"filter-button",3,"click"],[1,"items-grid"],["class","item-card",3,"reserved","reserving",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"item-card"],[1,"item-icon"],["alt","",3,"src"],[1,"item-content"],[1,"item-name"],["class","reserve-button",3,"disabled","click",4,"ngIf"],["class","reserved-badge",4,"ngIf"],[1,"reserve-button",3,"click","disabled"],[4,"ngIf"],[1,"reserved-badge"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"],[1,"modal-message"],[1,"modal-button",3,"click"]],template:function(i,o){i&1&&(E(0,"div",0),Ae(1,"div",1),E(2,"header",2)(3,"h1",3),O(4,"Lista de Regalos"),T(),E(5,"div",4)(6,"p"),O(7,"Esta es la lista oficial de cosas que me pueden salvar la vida en mi nueva aventura viviendo solo."),T(),E(8,"p"),O(9,"Nada de nervios, no es obligatorio el detalle, pero si escogen m\xE1s de uno, no me pongo bravo."),T(),E(10,"p",5),O(11,"Click en reservar y sale pa pintura"),T(),E(12,"p"),O(13,"En cuanto al dise\xF1o, estilo, color, etc... a elecci\xF3n de ustedes. (imagenes de ejemplo)"),T()(),E(14,"div",6)(15,"button",7),pe("click",function(){return o.setFilter("all")}),O(16," Todos "),T(),E(17,"button",7),pe("click",function(){return o.setFilter("available")}),O(18," Disponibles "),T(),E(19,"button",7),pe("click",function(){return o.setFilter("reserved")}),O(20," Reservados "),T()()(),E(21,"div",8),pt(22,BT,8,9,"div",9),so(23,"async"),T()(),pt(24,HT,9,1,"div",10)),i&2&&(J(15),tt("active",o.filterType==="all"),J(2),tt("active",o.filterType==="available"),J(2),tt("active",o.filterType==="reserved"),J(3),Ee("ngForOf",ao(23,8,o.items$)),J(2),Ee("ngIf",o.showModal))},dependencies:[hn,Gr,fo,ho],styles:['.gift-list-container[_ngcontent-%COMP%]{min-height:100vh;background:#000;color:#fff;padding:3rem 2rem;position:relative;overflow:hidden}.animated-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;background:radial-gradient(circle at 20% 50%,rgba(255,255,255,.03) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,255,255,.02) 0%,transparent 50%),radial-gradient(circle at 40% 20%,rgba(255,255,255,.025) 0%,transparent 50%);animation:_ngcontent-%COMP%_moveBackground 20s ease-in-out infinite}@keyframes _ngcontent-%COMP%_moveBackground{0%,to{transform:translate(0)}25%{transform:translate(-5%,5%)}50%{transform:translate(5%,-5%)}75%{transform:translate(-3%,-3%)}}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:4rem;animation:_ngcontent-%COMP%_fadeInDown .8s ease-out;position:relative;z-index:1}.title[_ngcontent-%COMP%]{font-size:clamp(2.5rem,6vw,4rem);font-weight:900;margin-bottom:1rem;letter-spacing:-.02em;background:linear-gradient(135deg,#fff,#aaa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.instructions[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto 0;font-size:clamp(.95rem,2vw,1.15rem);line-height:1.8;color:#bbb}.instructions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.75rem}.instructions[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff;font-weight:600;margin:1rem 0}.filter-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:2rem;flex-wrap:wrap}.filter-button[_ngcontent-%COMP%]{background:#1a1a1a;color:#aaa;border:1px solid #333;padding:.75rem 2rem;font-size:.95rem;font-weight:600;border-radius:50px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.05em}.filter-button[_ngcontent-%COMP%]:hover{border-color:#fff;color:#fff;transform:translateY(-2px)}.filter-button.active[_ngcontent-%COMP%]{background:#fff;color:#000;border-color:#fff}.items-grid[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem;animation:_ngcontent-%COMP%_fadeIn 1s ease-out;position:relative;z-index:1}.item-card[_ngcontent-%COMP%]{background:#1a1a1a;border:1px solid #333;border-radius:16px;padding:2rem;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;text-align:center;position:relative;overflow:hidden}.item-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .5s ease}.item-card[_ngcontent-%COMP%]:hover:before{left:100%}.item-card[_ngcontent-%COMP%]:hover:not(.reserved){transform:translateY(-5px);border-color:#fff;box-shadow:0 10px 30px #ffffff1a}.item-card.reserved[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a0a0a,#0a0a0a);border:2px solid #ff006e;opacity:.5;position:relative}.item-card.reserved[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,#ff006e,#8338ec);border-radius:16px;z-index:-1;opacity:.3;filter:blur(8px)}.item-card.reserving[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}.item-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;color:#fff;opacity:.8;transition:transform .3s ease}.item-card[_ngcontent-%COMP%]:hover   .item-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.item-card.reserved[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{opacity:.3}.item-content[_ngcontent-%COMP%]{width:100%}.item-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:1.5rem;color:#fff;line-height:1.4}.reserve-button[_ngcontent-%COMP%]{width:100%;background:#fff;color:#000;border:none;padding:.875rem 2rem;font-size:1rem;font-weight:700;border-radius:50px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.05em}.reserve-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #ffffff4d}.reserve-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.reserve-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.reserved-badge[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#ff006e,#8338ec);color:#fff;padding:.875rem 2rem;font-size:1rem;font-weight:700;border-radius:50px;text-transform:uppercase;letter-spacing:.05em;box-shadow:0 4px 15px #ff006e66}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out;padding:2rem}.modal-content[_ngcontent-%COMP%]{background:#1a1a1a;border:1px solid #333;border-radius:24px;padding:3rem 2rem;max-width:500px;width:100%;text-align:center;animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.modal-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 1.5rem;color:#fff;animation:_ngcontent-%COMP%_scaleIn .5s ease-out .1s both}.modal-message[_ngcontent-%COMP%]{font-size:1.25rem;color:#fff;margin-bottom:2rem;line-height:1.6}.modal-button[_ngcontent-%COMP%]{background:#fff;color:#000;border:none;padding:1rem 3rem;font-size:1rem;font-weight:700;border-radius:50px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.05em}.modal-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #ffffff4d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.gift-list-container[_ngcontent-%COMP%]{padding:2rem 1rem}.header[_ngcontent-%COMP%]{margin-bottom:2rem}.items-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.item-card[_ngcontent-%COMP%]{padding:1.5rem}.modal-content[_ngcontent-%COMP%]{padding:2rem 1.5rem}}']});let t=e;return t})();var zT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},CG=W(b({},zT),{"[class.ng-submitted]":"isSubmitted"});var GT=new A("",{providedIn:"root",factory:()=>ew}),ew="always";var qT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ln({type:t});static \u0275inj=jt({})}return t})();var tw=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:GT,useValue:n.callSetDisabledState??ew}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ln({type:t});static \u0275inj=jt({imports:[qT]})}return t})();function WT(t,e){if(t&1&&(E(0,"span"),O(1),T()),t&2){let n=De().$implicit;J(),Br(" ",n.is_reserved?"Liberar":"Reservar"," ")}}function KT(t,e){t&1&&(E(0,"span"),O(1,"Actualizando..."),T())}function ZT(t,e){if(t&1){let n=Gn();E(0,"div",8)(1,"div",9)(2,"h3",10),O(3),T(),E(4,"span",11),O(5),T()(),E(6,"button",12),pe("click",function(){let i=Xe(n).$implicit,o=De();return et(o.toggleReservation(i))}),pt(7,WT,2,1,"span",13)(8,KT,2,0,"span",13),T()()}if(t&2){let n=e.$implicit,r=De();tt("reserved",n.is_reserved)("updating",r.updatingItemId===n.id),J(3),dn(n.name),J(),tt("status-reserved",n.is_reserved)("status-available",!n.is_reserved),J(),Br(" ",n.is_reserved?"Reservado":"Disponible"," "),J(),tt("btn-reserve",!n.is_reserved)("btn-release",n.is_reserved),Ee("disabled",r.updatingItemId===n.id),J(),Ee("ngIf",r.updatingItemId!==n.id),J(),Ee("ngIf",r.updatingItemId===n.id)}}function YT(t,e){if(t&1){let n=Gn();E(0,"div",14),pe("click",function(){Xe(n);let i=De();return et(i.closeModal())}),E(1,"div",15),pe("click",function(i){return Xe(n),et(i.stopPropagation())}),E(2,"div",16),Nr(),E(3,"svg",17),Ae(4,"path",18),T()(),kr(),E(5,"p",19),O(6),T(),E(7,"button",20),pe("click",function(){Xe(n);let i=De();return et(i.closeModal())}),O(8,"Entendido"),T()()()}if(t&2){let n=De();J(6),dn(n.modalMessage)}}var nw=(()=>{let e=class e{constructor(r){this.supabaseService=r,this.updatingItemId=null,this.showModal=!1,this.modalMessage="",this.items$=this.supabaseService.items$}ngOnInit(){}toggleReservation(r){return h(this,null,function*(){this.updatingItemId=r.id;let i=yield this.supabaseService.toggleItemReservation(r.id,!r.is_reserved);if(this.updatingItemId=null,i){let o=r.is_reserved?"liberado":"reservado";this.showSuccessModal(`${r.name} ha sido ${o}`)}else this.showErrorModal("Error al actualizar el estado del art\xEDculo")})}showSuccessModal(r){this.modalMessage=r,this.showModal=!0}showErrorModal(r){this.modalMessage=r,this.showModal=!0}closeModal(){this.showModal=!1,this.modalMessage=""}};e.\u0275fac=function(i){return new(i||e)(be(ol))},e.\u0275cmp=ht({type:e,selectors:[["app-admin-panel"]],decls:11,vars:4,consts:[[1,"admin-container"],[1,"animated-background"],[1,"header"],[1,"title"],[1,"subtitle"],[1,"items-grid"],["class","item-card",3,"reserved","updating",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"item-card"],[1,"item-header"],[1,"item-name"],[1,"status-badge"],[1,"toggle-button",3,"click","disabled"],[4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"],[1,"modal-message"],[1,"modal-button",3,"click"]],template:function(i,o){i&1&&(E(0,"div",0),Ae(1,"div",1),E(2,"header",2)(3,"h1",3),O(4,"Panel de Administraci\xF3n"),T(),E(5,"p",4),O(6,"Gestiona el estado de los regalos"),T()(),E(7,"div",5),pt(8,ZT,9,17,"div",6),so(9,"async"),T()(),pt(10,YT,9,1,"div",7)),i&2&&(J(8),Ee("ngForOf",ao(9,2,o.items$)),J(2),Ee("ngIf",o.showModal))},dependencies:[hn,Gr,fo,ho,tw],styles:['.admin-container[_ngcontent-%COMP%]{min-height:100vh;background:#000;color:#fff;padding:3rem 2rem;position:relative;overflow:hidden}.animated-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;background:radial-gradient(circle at 20% 50%,rgba(255,255,255,.03) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,255,255,.02) 0%,transparent 50%),radial-gradient(circle at 40% 20%,rgba(255,255,255,.025) 0%,transparent 50%);animation:_ngcontent-%COMP%_moveBackground 20s ease-in-out infinite}@keyframes _ngcontent-%COMP%_moveBackground{0%,to{transform:translate(0)}25%{transform:translate(-5%,5%)}50%{transform:translate(5%,-5%)}75%{transform:translate(-3%,-3%)}}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:4rem;animation:_ngcontent-%COMP%_fadeInDown .8s ease-out;position:relative;z-index:1}.title[_ngcontent-%COMP%]{font-size:clamp(2.5rem,6vw,4rem);font-weight:900;margin-bottom:1rem;letter-spacing:-.02em;background:linear-gradient(135deg,#fff,#aaa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.subtitle[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,1.5rem);color:#aaa}.items-grid[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem;animation:_ngcontent-%COMP%_fadeIn 1s ease-out;position:relative;z-index:1}.item-card[_ngcontent-%COMP%]{background:#1a1a1a;border:1px solid #333;border-radius:16px;padding:2rem;transition:all .3s ease;display:flex;flex-direction:column;gap:1.5rem;position:relative;overflow:hidden}.item-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .5s ease}.item-card[_ngcontent-%COMP%]:hover:before{left:100%}.item-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);border-color:#fff;box-shadow:0 10px 30px #ffffff1a}.item-card.reserved[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a0a0a,#0a0a0a);border:2px solid #ff006e;opacity:.8}.item-card.updating[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}.item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap}.item-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#fff;margin:0;flex:1}.status-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:50px;font-size:.85rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em}.status-reserved[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff006e,#8338ec);color:#fff}.status-available[_ngcontent-%COMP%]{background:#333;color:#06ffa5}.toggle-button[_ngcontent-%COMP%]{width:100%;border:none;padding:1rem 2rem;font-size:1rem;font-weight:700;border-radius:50px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.05em}.btn-reserve[_ngcontent-%COMP%]{background:#06ffa5;color:#000}.btn-reserve[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #06ffa566}.btn-release[_ngcontent-%COMP%]{background:#ff006e;color:#fff}.btn-release[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #ff006e66}.toggle-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.toggle-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out;padding:2rem}.modal-content[_ngcontent-%COMP%]{background:#1a1a1a;border:1px solid #333;border-radius:24px;padding:3rem 2rem;max-width:500px;width:100%;text-align:center;animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.modal-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 1.5rem;color:#fff;animation:_ngcontent-%COMP%_scaleIn .5s ease-out .1s both}.modal-message[_ngcontent-%COMP%]{font-size:1.25rem;color:#fff;margin-bottom:2rem;line-height:1.6}.modal-button[_ngcontent-%COMP%]{background:#fff;color:#000;border:none;padding:1rem 3rem;font-size:1rem;font-weight:700;border-radius:50px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.05em}.modal-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #ffffff4d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.admin-container[_ngcontent-%COMP%]{padding:2rem 1rem}.header[_ngcontent-%COMP%]{margin-bottom:2rem}.items-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.item-card[_ngcontent-%COMP%]{padding:1.5rem}.item-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.modal-content[_ngcontent-%COMP%]{padding:2rem 1.5rem}}']});let t=e;return t})();var rw=[{path:"",component:Oy},{path:"gifts",component:X_},{path:"secret-admin",component:nw},{path:"**",redirectTo:""}];var iw={providers:[Nd({eventCoalescing:!0}),Sf(rw)]};var ow=(()=>{let e=class e{constructor(){this.title="apartashower"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ht({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"app-container"]],template:function(i,o){i&1&&(E(0,"div",0),Ae(1,"router-outlet"),T())},dependencies:[Fo],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;background:#000}"]});let t=e;return t})();tf(ow,iw).catch(t=>console.error(t));
